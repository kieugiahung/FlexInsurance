"'4.1.1 YeuToTinhPhi' As screen":

    Container3 As groupContainer.manualLayoutContainer:
        Height: =768
        Width: =1146
        X: =220
        ZIndex: =1

        ChuongTrinh As checkbox:
            Default: =true
            DisplayMode: =DisplayMode.Disabled
            Text: ="Chương trình"
            Width: =192
            X: =38
            Y: =80
            ZIndex: =1

        DoTuoi As checkbox:
            Default: =true
            Text: ="Độ tuổi"
            Visible: |-
                =LookUp(
                    DM_YEUTO_AH_PHIS,
                    TEN_YEU_TO = "Độ tuổi"
                ).HIEU_LUC_TU <= Today() && (LookUp(
                    DM_YEUTO_AH_PHIS,
                    TEN_YEU_TO = "Độ tuổi"
                ).HIEU_LUC_DEN >= Today() || IsBlank(
                    LookUp(
                        DM_YEUTO_AH_PHIS,
                        TEN_YEU_TO = "Độ tuổi"
                    ).HIEU_LUC_DEN
                ))
            Width: =192
            X: =38
            Y: =272
            ZIndex: =2

        GioiTinh As checkbox:
            Text: ="Giới tính"
            Visible: |-
                =LookUp(
                    DM_YEUTO_AH_PHIS,
                    TEN_YEU_TO = "Giới tính"
                ).HIEU_LUC_TU <= Today() && (LookUp(
                    DM_YEUTO_AH_PHIS,
                    TEN_YEU_TO = "Giới tính"
                ).HIEU_LUC_DEN >= Today() || IsBlank(
                    LookUp(
                        DM_YEUTO_AH_PHIS,
                        TEN_YEU_TO = "Giới tính"
                    ).HIEU_LUC_DEN
                ))
            Width: =192
            X: =38
            Y: =332
            ZIndex: =3

        NganhNghe As checkbox:
            Text: ="Ngành nghề"
            Visible: |-
                =LookUp(
                    DM_YEUTO_AH_PHIS,
                    TEN_YEU_TO = "Ngành nghề"
                ).HIEU_LUC_TU <= Today() && (LookUp(
                    DM_YEUTO_AH_PHIS,
                    TEN_YEU_TO = "Ngành nghề"
                ).HIEU_LUC_DEN >= Today() || IsBlank(
                    LookUp(
                        DM_YEUTO_AH_PHIS,
                        TEN_YEU_TO = "Ngành nghề"
                    ).HIEU_LUC_DEN
                ))
            Width: =192
            X: =38
            Y: =390
            ZIndex: =4

        NhomTP As checkbox:
            Default: =true
            DisplayMode: =DisplayMode.Disabled
            Text: ="Nhóm tính phí"
            Width: =192
            X: =38
            Y: =145
            ZIndex: =5

        PVDiaLy As checkbox:
            Default: =true
            DisplayMode: =DisplayMode.Disabled
            Text: ="Phạm vi địa lý"
            Width: =192
            X: =38
            Y: =211
            ZIndex: =6

        BH_SoTien As checkbox:
            Default: =true
            Height: =38
            Text: ="Số tiền bảo hiểm"
            Visible: |-
                =LookUp(
                    DM_YEUTO_AH_PHIS,
                    TEN_YEU_TO = "Số tiền bảo hiểm"
                ).HIEU_LUC_TU <= Today() && (LookUp(
                    DM_YEUTO_AH_PHIS,
                    TEN_YEU_TO = "Số tiền bảo hiểm"
                ).HIEU_LUC_DEN >= Today() || IsBlank(
                    LookUp(
                        DM_YEUTO_AH_PHIS,
                        TEN_YEU_TO = "Số tiền bảo hiểm"
                    ).HIEU_LUC_DEN
                ))
            Width: =192
            X: =38
            Y: =457
            ZIndex: =7

        BH_SoNguoi As checkbox:
            Text: ="Số người được BH"
            Visible: |-
                =LookUp(
                    DM_YEUTO_AH_PHIS,
                    TEN_YEU_TO = "Số người được BH"
                ).HIEU_LUC_TU <= Today() && (LookUp(
                    DM_YEUTO_AH_PHIS,
                    TEN_YEU_TO = "Số người được BH"
                ).HIEU_LUC_DEN >= Today() || IsBlank(
                    LookUp(
                        DM_YEUTO_AH_PHIS,
                        TEN_YEU_TO = "Số người được BH"
                    ).HIEU_LUC_DEN
                ))
            Width: =192
            X: =38
            Y: =513
            ZIndex: =8

        BH_ThoiHan As checkbox:
            Text: ="Thời hạn bảo hiểm"
            Visible: |-
                =LookUp(
                    DM_YEUTO_AH_PHIS,
                    TEN_YEU_TO = "Thời hạn bảo hiểm"
                ).HIEU_LUC_TU <= Today() && (LookUp(
                    DM_YEUTO_AH_PHIS,
                    TEN_YEU_TO = "Thời hạn bảo hiểm"
                ).HIEU_LUC_DEN >= Today() || IsBlank(
                    LookUp(
                        DM_YEUTO_AH_PHIS,
                        TEN_YEU_TO = "Thời hạn bảo hiểm"
                    ).HIEU_LUC_DEN
                ))
            Width: =212
            X: =38
            Y: =572
            ZIndex: =9

        BH_PhuongThuc As checkbox:
            Height: =38
            Text: ="Phương thức đóng phí"
            Visible: |-
                =LookUp(
                    DM_YEUTO_AH_PHIS,
                    TEN_YEU_TO = "Phương thức đóng phí"
                ).HIEU_LUC_TU <= Today() && (LookUp(
                    DM_YEUTO_AH_PHIS,
                    TEN_YEU_TO = "Phương thức đóng phí"
                ).HIEU_LUC_DEN >= Today() || IsBlank(
                    LookUp(
                        DM_YEUTO_AH_PHIS,
                        TEN_YEU_TO = "Phương thức đóng phí"
                    ).HIEU_LUC_DEN
                ))
            Width: =232
            X: =38
            Y: =646
            ZIndex: =10

        Label_TienTe As label:
            Text: ="Đơn vị tiền"
            X: =38
            Y: =706
            ZIndex: =11

        DsTienTe As dropdown:
            Height: =45
            Items: =BH_DM_TIENTES
            X: =296
            Y: =706
            ZIndex: =12

        Datafield_CT As combobox:
            DisplayFields: =["cr282_ten_chuong_trinh"]
            Height: =45
            InputTextPlaceholder: =""
            IsSearchable: =false
            Items: =' DL_SAN_PHAM_CT'
            SearchFields: =["cr282_ten_chuong_trinh"]
            SearchItems: =[]
            Width: =840
            X: =296
            Y: =80
            ZIndex: =13

        Datafield_Nhom As combobox:
            DisplayFields: =["cr282_ten_nhom_tp"]
            Height: =45
            InputTextPlaceholder: =""
            IsSearchable: =false
            Items: =BH_DM_NHOMTP
            SearchFields: =["cr282_id"]
            SearchItems: =[]
            Width: =840
            X: =296
            Y: =150
            ZIndex: =14

        Datafield_DT As combobox:
            DisplayFields: =["cr282_mo_ta"]
            Height: =45
            InputTextPlaceholder: =""
            IsSearchable: =false
            Items: =DM_DO_TUOIS
            SearchFields: =["cr282_mo_ta"]
            SearchItems: =[]
            Visible: =If(DoTuoi.Value=true && DoTuoi.Visible=true,true,false)
            Width: =840
            X: =296
            Y: =277
            ZIndex: =15

        Datafield_GT As combobox:
            DisplayFields: =["cr282_ten_gioi_tinh"]
            Height: =45
            InputTextPlaceholder: ="Find items"
            IsSearchable: =false
            Items: =DM_GIOI_TINHS
            SearchFields: =["cr282_ten_gioi_tinh"]
            SearchItems: =[]
            Visible: =If(GioiTinh.Value=true && GioiTinh.Visible=true, true,false)
            Width: =840
            X: =296
            Y: =337
            ZIndex: =16

        LuuYT As button:
            OnSelect: |
                =/*RemoveIf(
                    MaTranPhis,
                    true
                );*/
                Set(
                    valMaYT,
                    0
                );
                UpdateContext(
                    {
                        valMaYT: If(
                            CountIf(
                                DL_SAN_PHAM_YT,
                                true
                            ) = 0,
                            1000,
                            Value(
                                Last(
                                    SortByColumns(
                                        DL_SAN_PHAM_YT,
                                        "cr282_ma_yeu_to_sp",
                                        SortOrder.Ascending
                                    )
                                ).MA_YEU_TO_SP
                            ) + 1
                        )
                    }
                );
                If(
                    IsBlank(
                        LookUp(
                            DL_SAN_PHAM_YT,
                            MA_SAN_PHAM = valMaSP
                        ).MA_YEU_TO_SP
                    ),
                    Patch(
                        DL_SAN_PHAM_YT,
                        {
                            MA_SAN_PHAM: valMaSP,
                            MA_YEU_TO_SP: valMaYT,
                            CHUONG_TRINH: Datafield_CT.Selected.TEN_CHUONG_TRINH,
                            NHOM_TINH_PHI: Datafield_Nhom.Selected.TEN_NHOM_TP,
                            PHAM_VI_DL: Datafield_PV.Selected.TEN_PHAMVI,
                            CHECKED_DOTUOI: If(
                                DoTuoi.Visible = true && DoTuoi.Value = true,
                                true,
                                false
                            ),
                            CHECKED_GIOITINH: If(
                                GioiTinh.Visible = true && GioiTinh.Value = true,
                                true,
                                false
                            ),
                            CHECKED_NGANHNGHE: If(
                                NganhNghe.Visible = true && NganhNghe.Value = true,
                                true,
                                false
                            ),
                            CHECKED_SOTIEN: If(
                                BH_SoTien.Visible = true && BH_SoTien.Value = true,
                                true,
                                false
                            ),
                            CHECKED_SONGUOI: If(
                                BH_SoNguoi.Visible = true && BH_SoNguoi.Value = true,
                                true,
                                false
                            ),
                            CHECKED_THOIHAN: If(
                                BH_ThoiHan.Visible = true && BH_ThoiHan.Value = true,
                                true,
                                false
                            ),
                            CHECKED_DONGPHI: If(
                                BH_PhuongThuc.Visible = true && BH_PhuongThuc.Value = true,
                                true,
                                false
                            ),
                            DON_VI_TIEN: DsTienTe.Selected.TIEN_TE,
                            DO_TUOI: Datafield_DT.Selected.MO_TA,
                            GIOI_TINH: Datafield_GT.Selected.TEN_GIOI_TINH,
                            NGANH_NGHE: Datafield_NN.Selected.TEN_NGANH,
                            BH_SO_TIEN: Datafield_ST.Selected.TEN_SOTIEN,
                            BH_SO_NGUOI: Datafield_SN.Selected.TEN_SO_NGUOI,
                            BH_THOI_HAN: Datafield_TH.Selected.TEN_THOI_HAN,
                            BH_PHUONG_THUC_DP: Datafield_DP.Selected.TEN_PT
                        }
                    ),
                    UpdateIf(
                        DL_SAN_PHAM_YT,
                        MA_SAN_PHAM = valMaSP,
                        {
                            CHUONG_TRINH: Datafield_CT.Selected.TEN_CHUONG_TRINH,
                            NHOM_TINH_PHI: Datafield_Nhom.Selected.TEN_NHOM_TP,
                            PHAM_VI_DL: Datafield_PV.Selected.TEN_PHAMVI,
                            CHECKED_DOTUOI: If(
                                DoTuoi.Visible = true && DoTuoi.Value = true,
                                true,
                                false
                            ),
                            CHECKED_GIOITINH: If(
                                GioiTinh.Visible = true && GioiTinh.Value = true,
                                true,
                                false
                            ),
                            CHECKED_NGANHNGHE: If(
                                NganhNghe.Visible = true && NganhNghe.Value = true,
                                true,
                                false
                            ),
                            CHECKED_SOTIEN: If(
                                BH_SoTien.Visible = true && BH_SoTien.Value = true,
                                true,
                                false
                            ),
                            CHECKED_SONGUOI: If(
                                BH_SoNguoi.Visible = true && BH_SoNguoi.Value = true,
                                true,
                                false
                            ),
                            CHECKED_THOIHAN: If(
                                BH_ThoiHan.Visible = true && BH_ThoiHan.Value = true,
                                true,
                                false
                            ),
                            CHECKED_DONGPHI: If(
                                BH_PhuongThuc.Visible = true && BH_PhuongThuc.Value = true,
                                true,
                                false
                            ),
                            DON_VI_TIEN: DsTienTe.Selected.TIEN_TE,
                            DO_TUOI: Datafield_DT.Selected.MO_TA,
                            GIOI_TINH: Datafield_GT.Selected.TEN_GIOI_TINH,
                            NGANH_NGHE: Datafield_NN.Selected.TEN_NGANH,
                            BH_SO_TIEN: Datafield_ST.Selected.TEN_SOTIEN,
                            BH_SO_NGUOI: Datafield_SN.Selected.TEN_SO_NGUOI,
                            BH_THOI_HAN: Datafield_TH.Selected.TEN_THOI_HAN,
                            BH_PHUONG_THUC_DP: Datafield_DP.Selected.TEN_PT
                        }
                    )
                );
                Set(
                    showGrid,
                    true
                );
            Text: ="Lưu"
            X: =976
            Y: =708
            ZIndex: =17

        Datafield_PV As dropdown:
            Height: =45
            Items: =DM_PHAMVI_DIALYS
            Width: =840
            X: =296
            Y: =216
            ZIndex: =18

        Datafield_NN As combobox:
            DisplayFields: =["cr282_ten_nganh"]
            Height: =45
            InputTextPlaceholder: =""
            IsSearchable: =false
            Items: =BH_DM_NGANHNGHES
            SearchFields: =["cr282_ten_nganh"]
            SearchItems: =[]
            Visible: =If(NganhNghe.Value=true && NganhNghe.Visible=true,true,false)
            Width: =840
            X: =296
            Y: =398
            ZIndex: =19

        Datafield_ST As combobox:
            DisplayFields: =["cr282_ten_sotien"]
            Height: =45
            InputTextPlaceholder: =""
            IsSearchable: =false
            Items: =BH_DM_SOTIEN
            SearchFields: =["cr282_ten_sotien"]
            SearchItems: =[]
            Visible: =If(BH_SoTien.Value=true && BH_SoTien.Visible=true,true,false)
            Width: =840
            X: =296
            Y: =457
            ZIndex: =20

        Datafield_SN As combobox:
            DisplayFields: =["cr282_ten_so_nguoi"]
            Height: =45
            InputTextPlaceholder: =""
            IsSearchable: =false
            Items: =BH_DM_SONGUOI
            SearchFields: =["cr282_ten_so_nguoi"]
            SearchItems: =[]
            Visible: =If(BH_SoNguoi.Value=true && BH_SoNguoi.Visible=true,true,false)
            Width: =840
            X: =296
            Y: =513
            ZIndex: =21

        Datafield_TH As combobox:
            DisplayFields: =["cr282_ten_thoi_han"]
            Height: =45
            InputTextPlaceholder: =""
            IsSearchable: =false
            Items: =BH_DM_THOIHAN
            SearchFields: =["cr282_ten_thoi_han"]
            SearchItems: =[]
            Visible: =If(BH_ThoiHan.Value=true && BH_ThoiHan.Visible=true,true,false)
            Width: =840
            X: =296
            Y: =577
            ZIndex: =22

        Datafield_DP As combobox:
            DisplayFields: =["cr282_ten_pt"]
            Height: |
                =45
            InputTextPlaceholder: =""
            IsSearchable: =false
            Items: =BH_DM_PT_DONG
            SearchFields: =["cr282_ten_pt"]
            SearchItems: =[]
            Visible: =If(BH_PhuongThuc.Value=true && BH_PhuongThuc.Visible=true,true,false)
            Width: =840
            X: =296
            Y: =646
            ZIndex: =23

        SuaYT As button:
            OnSelect: |
                =/*RemoveIf(
                    BH_YEUTO_CT,
                    true
                );
                RemoveIf(
                    MaTranPhis,
                    true
                );
                Set(showGrid, false);*/
            Text: ="Sửa"
            X: =751
            Y: =708
            ZIndex: =24

        Label1_4 As label:
            Align: =Align.Justify
            FontWeight: =FontWeight.Bold
            Height: =44
            Size: =16
            Text: ="4.1.1. Các yếu tố ảnh hưởng"
            Width: =1076
            X: =38
            Y: =15
            ZIndex: =25

