"NhapchitietCT As screen.'phoneLayout_FluidGridWithHeaderPageLayout_ver3.0'":
    OnVisible: |-
        =Set(varAnhHienCTPhi, false);
        Set(varAnhHienCT, false);
        ClearCollect(
            tmpGPCCollectCT,
            ShowColumns(
                AddColumns(
                    SortByColumns(
                        Filter(DL_CHUONGTRINH_GPS,MA_SAN_PHAM=valMaSP && MA_CHUONG_TRINH = VarCT),
                        "cr282_id",
                        SortOrder.Ascending
                    ),
                    "edited",
                    0
                ),
                "cr282_id",
                "cr282_ma_san_pham",
                "cr282_thong_tin",
                "cr282_mo_ta",
                "cr282_so_tien",
                "cr282_donvi_tien",
                "cr282_ty_le",
                "edited"
            )
        );
        UpdateContext({maAddedGP:"",maUpdatedGP:""});
        ClearCollect(
            tmpPhiKhacCollectCT,
            ShowColumns(
                AddColumns(
                    SortByColumns(
                        Filter(DL_CHUONGTRINH_PHIKHACS,MA_SAN_PHAM= valMaSP && MA_CHUONG_TRINH = VarCT),
                        "cr282_id",
                        SortOrder.Ascending
                    ),
                    "edited",
                    0
                ),
                "cr282_id",
                "cr282_ma_san_pham",
                "cr282_ma_chuong_trinh",
                "cr282_nhom_thong_tin",
                "cr282_mo_ta",
                "edited"
            )
        );
        UpdateContext(
            {
                maAddedPhiKhac:"",
                maUpdatedPhiKhac: ""
            }
        );
        UpdateContext(
            {
                objCT:LookUp(' DL_SAN_PHAM_CT',MA_CHUONG_TRINH=VarCT)
            }
        );
        UpdateContext(
            {
                objSP:LookUp(DL_SAN_PHAM,MA_SAN_PHAM=objCT.MA_SAN_PHAM)
            }
        );
        ClearCollect(
            tmpDKCCTCollect,
            ShowColumns(
                AddColumns(
                    SortByColumns(
                        Filter(
                            DL_CHUONGTRINH_DKCHUNGS,
                            MA_CHUONG_TRINH=objCT.MA_CHUONG_TRINH && MA_SAN_PHAM=objCT.MA_SAN_PHAM
                        ),
                        "cr282_ma_dieu_khoan",
                        SortOrder.Ascending
                    ),
                    "edited",
                    0
                ),
                "cr282_ma_dieu_khoan",
                "cr282_nhom_thong_tin",
                "cr282_thong_tin",
                "cr282_noi_dung",
                "edited"
            )
        );
        UpdateContext({
            maAddedDKCCT:"",
            maUpdatedDKCCT:""
        });
        ClearCollect(
            tmpQLCTCTCollect,
            ShowColumns(
                AddColumns(
                    SortByColumns(
                        Filter(
                            DL_CHUONGTRINH_QLCTS,
                            MA_CHUONG_TRINH=objCT.MA_CHUONG_TRINH && MA_SAN_PHAM=objCT.MA_SAN_PHAM
                        ),
                        "cr282_ma_ql_ct",
                        SortOrder.Ascending
                    ),
                    "edited",
                    0,
                    "idQLCT",
                    "0"
                ),
                "cr282_ma_ql_ct",
                "cr282_gh_solan_nam",
                "cr282_gh_songay_nam",
                "cr282_gh_sotien_benh",
                "cr282_gh_sotien_nam",
                "cr282_gh_sotien_ngay",
                "cr282_gh_sotien_vu",
                "cr282_ma_nhomql_sp",
                "cr282_ma_nhom_ql",
                "cr282_pt_tu_chitra",
                "cr282_so_tien_bh",
                "cr282_tt_hienthi",
                "cr282_ten_quyen_loi_ht",
                "edited",
                "idQLCT"
            )
        );
        UpdateContext({
            maAddedQLCTCT:"",
            maUpdatedQLCTCT:""
        });
        ClearCollect(
            tmpQLKCTCollect,
            ShowColumns(
                AddColumns(
                    SortByColumns(
                        Filter(
                            DL_CHUONGTRINH_QL_KHACS,
                            MA_CHUONG_TRINH=objCT.MA_CHUONG_TRINH && MA_SAN_PHAM=objCT.MA_SAN_PHAM
                        ),
                        "cr282_ma_dl_ct",
                        SortOrder.Ascending
                    ),
                    "edited",
                    0
                ),
                "cr282_ma_dl_ct",
                "cr282_ma_nhom_ql_ct",
                "cr282_mo_ta_ct",
                "edited"
            )
        );
        UpdateContext({
            maAddedQLKCT:"",
            maUpdatedQLKCT:""
        });
        ClearCollect(
            dsNhomTT,
            {
                Key:"Đối tượng bảo hiểm",
                Value:1
            },
            {
                Key:"Phạm vi rủi ro được bảo hiểm",
                Value:2
            },
            {
                Key:"Điều khoản loại trừ",
                Value:3
            },
            {
                Key:"Phương thức đóng phí",
                Value:4
            }
            ,
            {
                Key:"Thời hạn bảo hiểm",
                Value:5
            }
            ,
            {
                Key:"Các quy định giải quyết tranh chấp",
                Value:6
            },
            {
                Key:"Quyền lợi và nghĩa vụ bên mua bảo hiểm, người được bảo hiểm",
                Value:7
            }
            , {
                Key:"Trách nhiệm Doanh nghiệp bảo hiểm",
                Value:8
            }
        );
        
        ClearCollect(
            TmpMaTraPhiCT,
            ShowColumns(
                AddColumns(
                    SortByColumns(
                        Filter(
                            DL_CHUONGTRINH_MATRANPHIS,
                            MA_CHUONG_TRINH=VarCT && MA_SAN_PHAM=valMaSP
                        ),
                        "cr282_id",
                        SortOrder.Ascending
                    ),
                    "edited",
                    0
                ),
                "cr282_id",
                "cr282_ma_san_pham",
                "cr282_ma_chuong_trinh",
                "cr282_chuong_trinh",
                "cr282_nhom_tinh_phi",
                "cr282_pham_vi_dl",
                "cr282_do_tuoi",
                "cr282_gioi_tinh",
                "cr282_nganh_nghe",
                "cr282_so_tien",
                "cr282_so_nguoi",
                "cr282_thoi_han",
                "cr282_phuong_thuc_dp",
                "cr282_ty_le",
                "edited"
            )
        );
        ClearCollect(
            TmpBangPhiCT,
            ShowColumns(
                AddColumns(
                    SortByColumns(
                        Filter(
                            DL_CHUONG_TRINH_BANG_PHIS,
                            MA_CHUONG_TRINH=VarCT && MA_SAN_PHAM=valMaSP
                        ),
                        "cr282_ma_bang_phi",
                        SortOrder.Ascending
                    ),
                    "edited",
                    0
                ),
                "cr282_ma_bang_phi",
                "cr282_ma_san_pham",
                "cr282_ma_chuong_trinh",
                "cr282_nhom_tinh_phi",
                "cr282_ma_phamvi_dialy",
                "cr282_ma_do_tuoi",
                "cr282_ma_gioi_tinh",
                "cr282_so_tien",
                "cr282_phi_bh",
                "cr282_tyle_phi",
                "cr282_pthuc_dong_phi",
                "cr282_ten_chuong_trinh",
                "cr282_ten_san_pham",
                "cr282_thoi_han_bh",
                "cr282_doi_tuong",
                "cr282_nhom_nganh_nghe",
                "edited"
            )
        );
        UpdateContext({
            maAddedMatranCT:"",
            maUpdateMatranCT:""
        });

    Canvas1 As fluidGrid.fluidGridWithBlankCard:
        BorderThickness: =0
        Height: =749
        Width: =Parent.Width
        Y: =
        ZIndex: =3

        DataCard7 As dataCard:
            BorderColor: =RGBA(0, 0, 0, 1)
            BorderStyle: =BorderStyle.Solid
            BorderThickness: =0
            DisplayMode: =DisplayMode.Edit
            Fill: =RGBA(0, 0, 0, 0)
            Height: =2783
            Width: =Parent.Width
            X: =0
            Y: =0
            ZIndex: =1

            "'3.2Thongtinphikhac_1' As groupContainer.manualLayoutContainer":
                Height: =434
                Width: =1262
                X: =67
                Y: =2273
                ZIndex: =1

                GalleryCT_7 As gallery.galleryVertical:
                    DelayItemLoading: =true
                    Height: =323
                    Items: =tmpPhiKhacCollectCT
                    Layout: =Layout.Vertical
                    LoadingSpinner: =LoadingSpinner.Data
                    NavigationStep: =0
                    TemplateSize: =40
                    Width: =1262
                    Y: =105
                    ZIndex: =1

                    Btn_SuaCT_7 As button:
                        OnSelect: |-
                            =If(
                                Or(maAddedPhiKhac<>"",maUpdatedPhiKhac<>""),
                                Notify("Có dữ liệu chưa được lưu",NotificationType.Warning,800),
                                UpdateIf(
                                    tmpPhiKhacCollectCT,
                                    cr282_id=ThisItem.cr282_id,
                                    {
                                        edited:1
                                    }
                                );
                                UpdateContext({
                                    maUpdatedPhiKhac:ThisItem.cr282_id
                                })
                            )
                        Text: ="Sửa"
                        Visible: =ThisItem.edited=0
                        Width: =75
                        X: =989
                        ZIndex: =17

                    Btn_XoaCT_7 As button:
                        OnSelect: |-
                            =If(
                                Or(maAddedPhiKhac<>"",maAddedPhiKhac<>""),
                                Notify("Có dữ liệu chưa được lưu",NotificationType.Warning,800),
                                Refresh(DL_CHUONGTRINH_PHIKHACS);
                                RemoveIf(
                                    DL_CHUONGTRINH_PHIKHACS,
                                    ID=ThisItem.cr282_id
                                );
                                Remove(tmpPhiKhacCollectCT,ThisItem);
                                Notify("Xóa dữ liệu thành công", NotificationType.Success,800) 
                            )
                        Size: =13
                        Text: ="Xóa"
                        Visible: =ThisItem.edited=0
                        Width: =85
                        X: =1093
                        ZIndex: =18

                    Btn_LuuCT_7 As button:
                        OnSelect: |
                            =
                                If( ThisItem.cr282_id=maAddedPhiKhac,
                                    Patch(
                                        DL_CHUONGTRINH_PHIKHACS,
                                        {
                                            ID:ThisItem.cr282_id,
                                            NHOM_THONG_TIN:CbxNhom_thongtin_1.Selected.MA_YEU_TO ,
                                            MA_SAN_PHAM:valMaSP,
                                            MA_CHUONG_TRINH:VarCT,
                                            MO_TA:TxtMota_3.Text
                                        }
                                    ),
                                    UpdateIf(
                                        DL_CHUONGTRINH_PHIKHACS,
                                        ID=ThisItem.cr282_id,
                                        {
                                            NHOM_THONG_TIN:CbxNhom_thongtin_1.Selected.MA_YEU_TO ,
                                            MA_SAN_PHAM:valMaSP,
                                            MA_CHUONG_TRINH:VarCT,
                                            MO_TA:TxtMota_3.Text
                                        }
                                    )
                                );
                                UpdateIf(
                                    tmpPhiKhacCollectCT,
                                    cr282_id=ThisItem.cr282_id,
                                    {
                                           cr282_nhom_thong_tin:CbxNhom_thongtin_1.Selected.MA_YEU_TO,
                                           cr282_mo_ta: TxtMota_3.Text,
                                           cr282_ma_san_pham: valMaSP,
                                           cr282_ma_chuong_trinh:VarCT
                                    }
                                );
                                Notify("Lưu dữ liệu thành công", NotificationType.Success,800);
                                ClearCollect(
                                    tmpPhiKhacCollectCT,
                                    ShowColumns(
                                        AddColumns(
                                            SortByColumns(
                                                Filter(DL_CHUONGTRINH_PHIKHACS,MA_SAN_PHAM= valMaSP && MA_CHUONG_TRINH = VarCT),
                                                "cr282_id",
                                                SortOrder.Ascending
                                            ),
                                            "edited",
                                            0
                                        ),
                                    "cr282_id",
                                    "cr282_ma_san_pham",
                                    "cr282_ma_chuong_trinh",
                                    "cr282_nhom_thong_tin",
                                    "cr282_mo_ta",
                                    "edited"
                                    )
                                );
                                UpdateContext({
                                    maAddedPhiKhac:"",
                                    maUpdatedPhiKhac:""
                                });
                        Text: ="Lưu"
                        Visible: =ThisItem.edited=1
                        Width: =75
                        X: =989
                        ZIndex: =19

                    Btn_HuyCT_7 As button:
                        OnSelect: |-
                            =If(
                                ThisItem.cr282_id=maAddedPhiKhac,
                                Remove(tmpPhiKhacCollectCT,ThisItem),
                                UpdateIf(
                                    tmpPhiKhacCollectCT,
                                    cr282_id=ThisItem.cr282_id,
                                    {
                                        edited:0
                                    }
                                )
                            );
                             Set(  maAddedPhiKhac, "");
                             Set(  maUpdatedPhiKhac,"");
                        Text: ="Hủy"
                        Visible: =ThisItem.edited=1
                        Width: =85
                        X: =1093
                        ZIndex: =20

                    TxtID_3 As text:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        Default: =ThisItem.cr282_id
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        OnChange: =
                        OnSelect: =Select(Parent)
                        Visible: =false
                        Width: =134
                        X: =3
                        ZIndex: =21

                    TxtMota_3 As text:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        Default: =ThisItem.cr282_mo_ta
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        OnChange: =
                        OnSelect: =Select(Parent)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Width: =494
                        X: =451
                        ZIndex: =23

                    CbxNhom_thongtin_1 As combobox:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        ChevronBackground: =RGBA(255, 255, 255, 1)
                        ChevronDisabledBackground: =RGBA(180, 214, 250, 1)
                        ChevronDisabledFill: =RGBA(255, 255, 255, 1)
                        ChevronFill: =RGBA(72, 163, 62, 1)
                        ChevronHoverBackground: =RGBA(255, 255, 255, 1)
                        ChevronHoverFill: =RGBA(72, 163, 62, 1)
                        DefaultSelectedItems: =LookUp(DM_YEUTO_AH_PHIS, MA_YEU_TO =ThisItem.cr282_nhom_thong_tin)
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayFields: =["cr282_ten_yeu_to"]
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        HoverBorderColor: =RGBA(9, 33, 98, 1)
                        HoverFill: =RGBA(180, 214, 250, 1)
                        InputTextPlaceholder: ="Chọn nhóm quyền lợi"
                        IsSearchable: =false
                        Items: =Filter(DM_YEUTO_AH_PHIS, LHNV = "Sức khoẻ")
                        OnSelect: =Select(Parent)
                        PressedColor: =RGBA(72, 163, 62, 1)
                        PressedFill: =RGBA(255, 255, 255, 1)
                        SearchFields: =["cr282_ten_yeu_to"]
                        SearchItems: =[]
                        SelectionColor: =RGBA(0, 0, 0, 1)
                        SelectionFill: =RGBA(214, 221, 224, 1)
                        SelectMultiple: =false
                        Width: =448
                        ZIndex: =24

                BadgeCanvas1_25 As Badge:
                    BasePaletteColor: =
                    Content: =""
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =26
                    Visible: =true
                    Width: =1262
                    X: =0
                    Y: =79
                    ZIndex: =2

                TextCanvas2_102 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =26
                    Size: =14
                    Text: ="Nhóm thông tin"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =456
                    X: =0
                    Y: =79
                    ZIndex: =3

                TextCanvas2_97 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =26
                    Size: =14
                    Text: ="Mô tả"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =496
                    X: =456
                    Y: =79
                    ZIndex: =4

                TextCanvas2_103 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =26
                    Size: =14
                    Text: ="Thao tác"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =310
                    X: =952
                    Y: =79
                    ZIndex: =5

                ThemMoiCT_7 As button:
                    Height: =36
                    OnSelect: |
                        =If( Or(maAddedPhiKhac<>"",maUpdatedPhiKhac<>""),
                            Notify("Có dữ liệu chưa được lưu",NotificationType.Warning,800),
                            UpdateContext({
                                idMa:If(
                                    CountRows(tmpPhiKhacCollect) = 0,
                                    Max(DL_CHUONGTRINH_PHIKHACS, ID) + 1,
                                    Max(DL_CHUONGTRINH_PHIKHACS, ID) + 1
                                )
                            });
                            Collect(
                                tmpPhiKhacCollectCT,
                                {
                                    cr282_id:Text(idMa),
                                    cr282_ma_san_pham:valMaSP,
                                    cr282_ma_chuong_trinh:VarCT,
                                    cr282_nhom_thong_tin:"",
                                    cr282_mo_ta:"",
                                    edited:1
                                }
                            );
                          UpdateContext({maAddedPhiKhac:Text(idMa),
                          maUpdatedPhiKhac : ""
                          })
                        )
                    Size: =13
                    Text: ="Thêm mới"
                    Y: =31
                    ZIndex: =11

                Label1_12 As label:
                    Align: =Align.Justify
                    FontWeight: =FontWeight.Bold
                    Height: =31
                    Size: =12
                    Text: ="3.2. Thông tin phí khác"
                    Width: =1059
                    ZIndex: =13

            "'3.1Giamtruphi_3' As groupContainer.manualLayoutContainer":
                Height: =333
                Width: =1262
                X: =67
                Y: =1940
                ZIndex: =2

                GalleryCT_8 As gallery.galleryVertical:
                    DelayItemLoading: =true
                    Height: =190
                    Items: =tmpGPCCollectCT
                    Layout: =Layout.Vertical
                    LoadingSpinner: =LoadingSpinner.Data
                    NavigationStep: =0
                    TemplateSize: =41
                    Width: =1262
                    Y: =117
                    ZIndex: =1

                    Btn_SuaCT_8 As button:
                        OnSelect: |-
                            =If(
                                Or(maAddedGP<>"",maUpdatedGP<>""),
                                Notify("Có dữ liệu chưa được lưu",NotificationType.Warning,800),
                                UpdateIf(
                                    tmpGPCCollectCT,
                                    cr282_id=ThisItem.cr282_id,
                                    {
                                        edited:1
                                    }
                                );
                                UpdateContext({
                                    maUpdatedGP:ThisItem.cr282_id
                                })
                            )
                        Text: ="Sửa"
                        Visible: =ThisItem.edited=0
                        Width: =75
                        X: =1035
                        ZIndex: =17

                    Btn_XoaCT_8 As button:
                        OnSelect: |-
                            =If(
                                Or(maAddedGP<>"",maUpdatedGP<>""),
                                Notify("Có dữ liệu chưa được lưu",NotificationType.Warning,800),
                                Refresh(DL_SAN_PHAM_GPS);
                                RemoveIf(
                                    DL_CHUONGTRINH_GPS,
                                    ID=ThisItem.cr282_id
                                );
                                Remove(tmpGPCCollectCT,ThisItem);
                                Notify("Xóa dữ liệu thành công", NotificationType.Success,800) 
                            )
                        Text: ="Xóa"
                        Visible: =ThisItem.edited=0
                        Width: =85
                        X: =1113
                        ZIndex: =18

                    Btn_LuuCT_8 As button:
                        OnSelect: |
                            =
                                If( ThisItem.cr282_id=maAddedGP,
                                    Patch(
                                        DL_CHUONGTRINH_GPS,
                                        {
                                            ID:ThisItem.cr282_id,
                                            MA_SAN_PHAM:valMaSP,
                                            MA_CHUONG_TRINH:VarCT,
                                            THONG_TIN:TxtThongtin_2.Text,
                                            MO_TA:TxtMota_4.Text,
                                            SO_TIEN:Value(TxtSo_tien_3.Text),
                                            DONVI_TIEN: TxtDonvi_tien_3.Text,
                                            TY_LE:TxtTy_le_3.Text
                                        }
                                    ),
                                    UpdateIf(
                                        DL_CHUONGTRINH_GPS,
                                        ID=ThisItem.cr282_id,
                                        {
                                            THONG_TIN:TxtThongtin_2.Text,
                                            MA_SAN_PHAM:valMaSP,
                                            MA_CHUONG_TRINH:VarCT,
                                            MO_TA:TxtMota_4.Text,
                                            SO_TIEN:Value(TxtSo_tien_3.Text),
                                            DONVI_TIEN: TxtDonvi_tien_3.Text,
                                            TY_LE:TxtTy_le_3.Text
                                        }
                                    )
                                );
                                UpdateIf(
                                    tmpGPCCollectCT,
                                    cr282_id=ThisItem.cr282_id,
                                    {
                                            cr282_thong_tin:TxtThongtin_2.Text,
                                            cr282_mo_ta:TxtMota_4.Text,
                                            cr282_so_tien:Value(TxtSo_tien_3.Text),
                                            cr282_donvi_tien: TxtDonvi_tien_3.Text,
                                            cr282_ty_le:TxtTy_le_3.Text,
                                        edited:0
                                    }
                                );
                                Notify("Lưu dữ liệu thành công", NotificationType.Success,800);
                                ClearCollect(
                                    tmpGPCCollectCT,
                                    ShowColumns(
                                        AddColumns(
                                            SortByColumns(
                                                Filter(DL_CHUONGTRINH_GPS,MA_SAN_PHAM=valMaSP && MA_CHUONG_TRINH = VarCT),
                                                "cr282_id",
                                                SortOrder.Ascending
                                            ),
                                            "edited",
                                            0
                                        ),
                                    "cr282_id",
                                    "cr282_ma_san_pham",
                                    "cr282_ma_chuong_trinh",
                                    "cr282_thong_tin",
                                    "cr282_mo_ta",
                                    "cr282_so_tien",
                                    "cr282_donvi_tien",
                                    "cr282_ty_le",
                                    "edited"
                                    )
                                );
                                UpdateContext({
                                    maAddedGP:"",
                                    maUpdatedGP:""
                                });
                        Text: ="Lưu"
                        Visible: =ThisItem.edited=1
                        Width: =75
                        X: =1035
                        ZIndex: =19

                    Btn_HuyCT_8 As button:
                        OnSelect: |-
                            =If(
                                ThisItem.cr282_id=maAddedGP,
                                Remove(tmpGPCCollectCT,ThisItem),
                                UpdateIf(
                                    tmpGPCCollectCT,
                                    cr282_id=ThisItem.cr282_id,
                                    {
                                        edited:0
                                    }
                                )
                            );
                             Set(   maAddedGP, "");
                              Set(  maUpdated,"");
                        Text: ="Hủy"
                        Visible: =ThisItem.edited=1
                        Width: =85
                        X: =1113
                        ZIndex: =20

                    TxtID_GP_3 As text:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        Default: =ThisItem.cr282_id
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        OnChange: =
                        OnSelect: =Select(Parent)
                        Visible: =false
                        Width: =134
                        X: =3
                        ZIndex: =21

                    TxtThongtin_2 As text:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        Default: =ThisItem.cr282_thong_tin
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        OnChange: =
                        OnSelect: =Select(Parent)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Width: =205
                        ZIndex: =22

                    TxtMota_4 As text:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        Default: =ThisItem.cr282_mo_ta
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        OnChange: =
                        OnSelect: =Select(Parent)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Width: =227
                        X: =205
                        ZIndex: =23

                    TxtSo_tien_3 As text:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        Default: =ThisItem.cr282_so_tien
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        Format: =TextFormat.Number
                        OnChange: =
                        OnSelect: =Select(Parent)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Width: =163
                        X: =432
                        ZIndex: =24

                    TxtDonvi_tien_3 As text:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        Default: =ThisItem.cr282_donvi_tien
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        OnChange: =
                        OnSelect: =Select(Parent)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Width: =191
                        X: =595
                        ZIndex: =25

                    TxtTy_le_3 As text:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        Default: =ThisItem.cr282_ty_le
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        OnChange: =
                        OnSelect: =Select(Parent)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Width: =205
                        X: =786
                        ZIndex: =26

                BadgeCanvas1_26 As Badge:
                    BasePaletteColor: =
                    Content: =""
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =30
                    Visible: =true
                    Width: =1258
                    X: =4
                    Y: =87
                    ZIndex: =2

                TextCanvas2_104 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =34
                    Size: =14
                    Text: ="Thông tin"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =203
                    X: =4
                    Y: =87
                    ZIndex: =3

                TextCanvas2_105 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =34
                    Size: =14
                    Text: ="Mô tả"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =229
                    X: =207
                    Y: =87
                    ZIndex: =4

                TextCanvas2_107 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =28
                    Size: =14
                    Text: ="Thao tác"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =268
                    X: =994
                    Y: =89
                    ZIndex: =5

                ThemMoiCT_8 As button:
                    Height: =36
                    OnSelect: |
                        =If( Or(maAddedGP<>"",maUpdatedGP<>""),
                            Notify("Có dữ liệu chưa được lưu",NotificationType.Warning,800),
                            UpdateContext({
                                idMa:If(
                                    CountRows(tmpGPCCollectCT) = 0,
                                    Max(DL_CHUONGTRINH_GPS, ID) + 1,
                                    Max(DL_CHUONGTRINH_GPS, ID) + 1
                                )
                            });
                            Collect(
                                tmpGPCCollectCT,
                                {
                                    cr282_id:Text(idMa),
                                    cr282_ma_san_pham:valMaSP,
                                    cr282_ma_chuong_trinh:VarCT,
                                    cr282_thong_tin:"",
                                    cr282_mo_ta:"",
                                    cr282_so_tien:0,
                                    cr282_donvi_tien:"",
                                    cr282_donvi_ty_le:"",
                                    edited:1
                                }
                            );
                          UpdateContext({maAddedGP:Text(idMa)})
                        )
                    Size: =13
                    Text: ="Thêm mới"
                    X: =4
                    Y: =35
                    ZIndex: =11

                TextCanvas2_108 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =32
                    Size: =14
                    Text: ="Số tiền"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =166
                    X: =436
                    Y: =87
                    ZIndex: =14

                TextCanvas2_109 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =30
                    Size: =14
                    Text: ="Đơn vị tiền"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =186
                    X: =602
                    Y: =87
                    ZIndex: =15

                TextCanvas2_106 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =30
                    Size: =14
                    Text: ="Tỷ lệ"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =206
                    X: =788
                    Y: =87
                    ZIndex: =16

                Label2_1 As label:
                    FontWeight: =FontWeight.Bold
                    Height: =31
                    Size: =12
                    Text: ="3.1 Thông tin giảm trừ phí"
                    Width: =1176
                    X: =4
                    Y: =4
                    ZIndex: =17

            ContainerTTCCT As groupContainer.manualLayoutContainer:
                Height: =166
                Width: =1262
                X: =67
                ZIndex: =3

                TextCanvas3 As Text:
                    DisplayMode: =DisplayMode.View
                    Font: =Font.'Open Sans'
                    FontColor: =
                    Height: =32
                    Size: =15
                    Text: ="Mã sản phẩm"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =140
                    X: =87
                    Y: =30
                    ZIndex: =1

                TextCanvas3_1 As Text:
                    DisplayMode: =DisplayMode.View
                    Font: =Font.'Open Sans'
                    FontColor: =
                    Height: =32
                    Size: =15
                    Text: ="Mã chương trình"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =139
                    X: =87
                    Y: =105
                    ZIndex: =2

                TextCanvas3_2 As Text:
                    DisplayMode: =DisplayMode.View
                    Font: =Font.'Open Sans'
                    FontColor: =
                    Height: =32
                    Size: =15
                    Text: ="Tên chương trình"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =163
                    X: =685
                    Y: =105
                    ZIndex: =3

                TextCanvas3_3 As Text:
                    DisplayMode: =DisplayMode.View
                    Font: =Font.'Open Sans'
                    FontColor: =
                    Height: =32
                    Size: =15
                    Text: ="Tên sản phẩm"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =136
                    X: =685
                    Y: =30
                    ZIndex: =4

                "TiMaSPCTCT As 'Text input'":
                    BasePaletteColor: =
                    DisplayMode: =DisplayMode.View
                    Font: =Font.'Open Sans'
                    FontColor: =
                    FontSize: =15
                    Height: =32
                    Value: =objSP.MA_SAN_PHAM
                    Width: =320
                    X: =250
                    Y: =30
                    ZIndex: =5

                "TiTenSPCTCT As 'Text input'":
                    BasePaletteColor: =
                    DisplayMode: =DisplayMode.View
                    Font: =Font.'Open Sans'
                    FontColor: =
                    FontSize: =15
                    Height: =32
                    Value: =objSP.TEN_SAN_PHAM
                    Width: =320
                    X: =835
                    Y: =30
                    ZIndex: =6

                "TiMaCTCTCT As 'Text input'":
                    BasePaletteColor: =
                    DisplayMode: =DisplayMode.View
                    Font: =Font.'Open Sans'
                    FontColor: =
                    FontSize: =15
                    Height: =32
                    Value: =objCT.MA_CHUONG_TRINH
                    Width: =320
                    X: =250
                    Y: =105
                    ZIndex: =7

                "TiTenCTCTCT As 'Text input'":
                    BasePaletteColor: =
                    DisplayMode: =DisplayMode.View
                    Font: =Font.'Open Sans'
                    FontColor: =
                    FontSize: =15
                    Height: =32
                    Value: =objCT.TEN_CHUONG_TRINH
                    Width: =320
                    X: =835
                    Y: =105
                    ZIndex: =8

            ContainerDKCTCT As groupContainer.manualLayoutContainer:
                Height: =380
                Width: =1262
                X: =67
                Y: =166
                ZIndex: =4

                GalleryDKCTCT As gallery.galleryVertical:
                    DelayItemLoading: =true
                    Height: =244
                    Items: =SortByColumns(tmpDKCCTCollect,"cr282_ma_dieu_khoan",SortOrder.Ascending)
                    Layout: =Layout.Vertical
                    LoadingSpinner: =LoadingSpinner.Data
                    NavigationStep: =0
                    TemplateSize: =54
                    Width: =1257
                    Y: =128
                    ZIndex: =1

                    CbxNhomTTDKCCT As combobox:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        ChevronBackground: =RGBA(255, 255, 255, 1)
                        ChevronDisabledBackground: =RGBA(180, 214, 250, 1)
                        ChevronDisabledFill: =RGBA(255, 255, 255, 1)
                        ChevronFill: =RGBA(72, 163, 62, 1)
                        ChevronHoverBackground: =RGBA(255, 255, 255, 1)
                        ChevronHoverFill: =RGBA(72, 163, 62, 1)
                        DefaultSelectedItems: =Filter(dsNhomTT,Value=Value(ThisItem.cr282_nhom_thong_tin))
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayFields: =["Key"]
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        Height: =51
                        HoverBorderColor: =RGBA(9, 33, 98, 1)
                        HoverFill: =RGBA(180, 214, 250, 1)
                        InputTextPlaceholder: ="Chọn nhóm quyền lợi"
                        IsSearchable: =false
                        Items: =SortByColumns(dsNhomTT,"Value",SortOrder.Ascending)
                        OnSelect: =Select(Parent)
                        PressedColor: =RGBA(72, 163, 62, 1)
                        PressedFill: =RGBA(255, 255, 255, 1)
                        SearchFields: =["Key"]
                        SearchItems: =[]
                        SelectionColor: =RGBA(0, 0, 0, 1)
                        SelectionFill: =RGBA(214, 221, 224, 1)
                        SelectMultiple: =false
                        Width: =220
                        X: =5
                        ZIndex: =19

                    CbxTTinDKCCT As combobox:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        ChevronBackground: =RGBA(255, 255, 255, 1)
                        ChevronDisabledBackground: =RGBA(180, 214, 250, 1)
                        ChevronDisabledFill: =RGBA(255, 255, 255, 1)
                        ChevronFill: =RGBA(72, 163, 62, 1)
                        ChevronHoverBackground: =RGBA(255, 255, 255, 1)
                        ChevronHoverFill: =RGBA(72, 163, 62, 1)
                        DefaultSelectedItems: =Filter(DM_THONGTIN_DK_CHUNGS,MA_TTIN=ThisItem.cr282_thong_tin)
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayFields: =["cr282_ten_ttin"]
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        Height: =51
                        HoverBorderColor: =RGBA(9, 33, 98, 1)
                        HoverFill: =RGBA(180, 214, 250, 1)
                        InputTextPlaceholder: ="Chọn nhóm quyền lợi"
                        IsSearchable: =false
                        Items: =SortByColumns(Filter(DM_THONGTIN_DK_CHUNGS,MA_NHOM_TTIN=Text(CbxNhomTTDKCCT.Selected.Value)),"cr282_ma_ttin",SortOrder.Ascending)
                        OnSelect: =Select(Parent)
                        PressedColor: =RGBA(72, 163, 62, 1)
                        PressedFill: =RGBA(255, 255, 255, 1)
                        SearchFields: =["cr282_ten_ttin"]
                        SearchItems: =[]
                        SelectionColor: =RGBA(0, 0, 0, 1)
                        SelectionFill: =RGBA(214, 221, 224, 1)
                        SelectMultiple: =false
                        Width: =257
                        X: =225
                        ZIndex: =24

                    TiNDDCKCT As text:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        Default: =ThisItem.cr282_noi_dung
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        Height: =51
                        MaxLength: =1000
                        Mode: =TextMode.MultiLine
                        OnChange: =
                        OnSelect: =Select(Parent)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Width: =593
                        X: =482
                        ZIndex: =25

                    BtnLuuDKCTCT_2 As button:
                        Height: =42
                        OnSelect: |
                            =If(
                                IsBlank(CbxNhomTTDKCCT.Selected.Value),
                                Notify("Bắt buộc nhập nhóm thông tin", NotificationType.Error,800),
                                IsBlank(CbxTTinDKCCT.Selected.MA_TTIN),
                                Notify("Bắt buộc nhập thông tin", NotificationType.Error,800),
                                IsBlank(TiNDDCKCT.Text),
                                Notify("Bắt buộc nhập nội dung", NotificationType.Error,800),
                                !IsBlank(LookUp(tmpDKCCTCollect,cr282_nhom_thong_tin=ThisItem.cr282_nhom_thong_tin && cr282_thong_tin=ThisItem.cr282_thong_tin && cr282_ma_dieu_khoan<>ThisItem.cr282_ma_dieu_khoan)),
                                Notify("Tồn tại dữ liệu có cùng thông tin", NotificationType.Error,800),
                                If(
                                    ThisItem.cr282_ma_dieu_khoan=maAddedDKCCT,
                                    Patch(
                                        DL_CHUONGTRINH_DKCHUNGS,
                                        {
                                            MA_DIEU_KHOAN:ThisItem.cr282_ma_dieu_khoan,
                                            NHOM_THONG_TIN:CbxNhomTTDKCCT.Selected.Value,
                                            THONG_TIN:CbxTTinDKCCT.Selected.MA_TTIN,
                                            NOI_DUNG:TiNDDCKCT.Text,
                                            MA_CHUONG_TRINH:objCT.MA_CHUONG_TRINH,
                                            MA_SAN_PHAM:objCT.MA_SAN_PHAM
                                        }
                                    ),
                                    UpdateIf(
                                        DL_CHUONGTRINH_DKCHUNGS,
                                        MA_DIEU_KHOAN=ThisItem.cr282_ma_dieu_khoan,
                                        {
                                            NHOM_THONG_TIN:CbxNhomTTDKCCT.Selected.Value,
                                            THONG_TIN:CbxTTinDKCCT.Selected.MA_TTIN,
                                            NOI_DUNG:TiNDDCKCT.Text
                                        }
                                    )
                                );
                                UpdateIf(
                                    tmpDKCCTCollect,
                                    cr282_ma_dieu_khoan=ThisItem.cr282_ma_dieu_khoan,
                                    {
                                        cr282_nhom_thong_tin:CbxNhomTTDKCCT.Selected.Value,
                                        cr282_thong_tin:CbxTTinDKCCT.Selected.MA_TTIN,
                                        cr282_noi_dung:TiNDDCKCT.Text,
                                        edited:0
                                    }
                                );
                                Notify("Lưu dữ liệu thành công", NotificationType.Success,800);
                                ClearCollect(
                                    tmpDKCCTCollect,
                                    ShowColumns(
                                        AddColumns(
                                            SortByColumns(
                                                Filter(
                                                    DL_CHUONGTRINH_DKCHUNGS,
                                                    MA_CHUONG_TRINH=objCT.MA_CHUONG_TRINH && MA_SAN_PHAM=objCT.MA_SAN_PHAM
                                                ),
                                                "cr282_ma_dieu_khoan",
                                                SortOrder.Ascending
                                            ),
                                            "edited",
                                            0
                                        ),
                                        "cr282_ma_dieu_khoan",
                                        "cr282_nhom_thong_tin",
                                        "cr282_thong_tin",
                                        "cr282_noi_dung",
                                        "edited"
                                    )
                                );
                                UpdateContext({
                                    maAddedDKCCT:"",
                                    maUpdatedDKCCT:""
                                });
                            )
                        Size: =11
                        Text: ="Lưu"
                        Visible: =ThisItem.edited=1
                        Width: =67
                        X: =1089
                        Y: =6
                        ZIndex: =26

                    BtnSuaDKCTCT_2 As button:
                        Height: =42
                        OnSelect: |-
                            =If(
                                Or(maAddedDKCCT<>"",maUpdatedDKCCT<>""),
                                Notify("Có dữ liệu chưa được lưu",NotificationType.Warning,800),
                                UpdateIf(
                                    tmpDKCCTCollect,
                                    cr282_ma_dieu_khoan=ThisItem.cr282_ma_dieu_khoan,
                                    {
                                        edited:1
                                    }
                                );
                                UpdateContext({
                                    maUpdatedDKCCT:ThisItem.cr282_ma_dieu_khoan
                                })
                            )
                        Size: =11
                        Text: ="Sửa"
                        Visible: =ThisItem.edited=0
                        Width: =67
                        X: =1089
                        Y: =6
                        ZIndex: =27

                    BtnXoaDKCTCT_2 As button:
                        Height: =42
                        OnSelect: |-
                            =If(
                                Or(maAddedDKCCT<>"",maUpdatedDKCCT<>""),
                                Notify("Có dữ liệu chưa được lưu",NotificationType.Warning,800),
                                Refresh(DL_CHUONGTRINH_DKCHUNGS);
                                RemoveIf(
                                    DL_CHUONGTRINH_DKCHUNGS,
                                    MA_DIEU_KHOAN=ThisItem.cr282_ma_dieu_khoan
                                );
                                Remove(tmpDKCCTCollect,ThisItem);
                                Notify("Xóa dữ liệu thành công", NotificationType.Success,800)
                            )
                        Text: ="Xóa"
                        Visible: =ThisItem.edited=0
                        Width: =67
                        X: =1165
                        Y: =6
                        ZIndex: =28

                    BtnHuyDKCTCT_2 As button:
                        Height: =42
                        OnSelect: |-
                            =If(
                                ThisItem.cr282_ma_dieu_khoan=maAddedDKCCT,
                                Remove(tmpDKCCTCollect,ThisItem),
                                UpdateIf(
                                    tmpDKCCTCollect,
                                    cr282_ma_dieu_khoan=ThisItem.cr282_ma_dieu_khoan,
                                    {
                                        edited:0
                                    }
                                )
                            );
                            UpdateContext({
                                maAddedDKCCT:"",
                                maUpdatedDKCCT:""
                            });
                        Size: =11
                        Text: ="Hủy"
                        Visible: =ThisItem.edited=1
                        Width: =67
                        X: =1165
                        Y: =6
                        ZIndex: =29

                BadgeCanvas1_27 As Badge:
                    BasePaletteColor: =
                    Content: =""
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =39
                    Width: =1248
                    X: =4
                    Y: =89
                    ZIndex: =2

                TextCanvas2_110 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    Font: =Font.'Open Sans'
                    FontColor: =
                    Height: =39
                    Size: =13
                    Text: ="Nhóm thông tin"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =236
                    X: =4
                    Y: =89
                    ZIndex: =3

                TextCanvas2_113 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    Font: =Font.'Open Sans'
                    FontColor: =
                    Height: =37
                    Size: =13
                    Text: ="Thông tin"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =252
                    X: =236
                    Y: =91
                    ZIndex: =4

                TextCanvas2_111 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    Font: =Font.'Open Sans'
                    FontColor: =
                    Height: =39
                    Size: =13
                    Text: ="Nội dung"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =590
                    X: =488
                    Y: =91
                    ZIndex: =5

                TextCanvas1_11 As Text:
                    DisplayMode: =DisplayMode.Edit
                    Font: =Font.'Open Sans'
                    FontColor: =
                    Height: =29
                    Size: =13
                    Text: ="1. Điều khoản chung (Trừ quyền lợi, Phí)"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =451
                    X: =0
                    Y: =0
                    ZIndex: =14

                TextCanvas2_112 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    Font: =Font.'Open Sans'
                    FontColor: =
                    Height: =37
                    Size: =13
                    Text: ="Thao tác"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =124
                    X: =1100
                    Y: =91
                    ZIndex: =15

                Button4_2 As button:
                    Height: =30
                    OnSelect: |-
                        =ClearCollect(
                            tmpDKCCTCollect,
                            ShowColumns(
                                AddColumns(
                                    SortByColumns(
                                        Filter(
                                            DL_CHUONGTRINH_DKCHUNGS,
                                            MA_CHUONG_TRINH=objCT.MA_CHUONG_TRINH && MA_SAN_PHAM=objCT.MA_SAN_PHAM
                                        ),
                                        "cr282_ma_dieu_khoan",
                                        SortOrder.Ascending
                                    ),
                                    "edited",
                                    0
                                ),
                                "cr282_ma_dieu_khoan",
                                "cr282_nhom_thong_tin",
                                "cr282_thong_tin",
                                "cr282_noi_dung",
                                "edited"
                            )
                        );
                        UpdateContext({
                            maAddedDKCCT:"",
                            maUpdatedDKCCT:""
                        });
                    Size: =11
                    Text: ="Tải lại"
                    Width: =96
                    X: =4
                    Y: =45
                    ZIndex: =18

                Button5_6 As button:
                    DisplayMode: =If(And(maAddedDKCCT="",maUpdatedDKCCT=""), DisplayMode.Edit,DisplayMode.Disabled)
                    Height: =30
                    OnSelect: |
                        =If(
                            Or(maAddedDKCCT<>"",maUpdatedDKCCT<>""),
                            Notify("Có dữ liệu chưa được lưu",NotificationType.Warning,800),
                            Refresh(DL_CHUONGTRINH_DKCHUNGS);
                            UpdateContext({
                                idMaDKCCT:If(
                                    CountIf(DL_CHUONGTRINH_DKCHUNGS,true)=0,
                                    1000,
                                    Value(Last(SortByColumns(DL_CHUONGTRINH_DKCHUNGS,"cr282_ma_dieu_khoan",SortOrder.Ascending)).MA_DIEU_KHOAN)+1
                                )
                            });
                            Collect(
                                tmpDKCCTCollect,
                                {
                                    cr282_ma_dieu_khoan:Text(idMaDKCCT),
                                    cr282_nhom_thong_tin:"",
                                    cr282_thong_tin:Blank(),
                                    cr282_noi_dung:Blank(),
                                    edited:1
                                }
                            );
                            UpdateContext({maAddedDKCCT:Text(idMaDKCCT)})
                        )
                    Size: =11
                    Text: ="Thêm mới"
                    Width: =96
                    X: =118
                    Y: =45
                    ZIndex: =19

            ContainerDKCTCT_1 As groupContainer.manualLayoutContainer:
                Height: =621
                Width: =1262
                X: =67
                Y: =546
                ZIndex: =5

                GalleryDKCTCT_1 As gallery.galleryVertical:
                    DelayItemLoading: =true
                    Height: =466
                    Items: =SortByColumns(tmpQLCTCTCollect,"cr282_ma_ql_ct",SortOrder.Ascending)
                    Layout: =Layout.Vertical
                    LoadingSpinner: =LoadingSpinner.Data
                    NavigationStep: =0
                    TemplatePadding: =1
                    TemplateSize: =33
                    Width: =1256
                    Y: =155
                    ZIndex: =1

                    TiTthtQLCTCT As text:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        Default: =ThisItem.cr282_tt_hienthi
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        Height: =29
                        OnChange: =
                        OnSelect: =Select(Parent)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =10
                        Width: =60
                        X: =102
                        Y: =2
                        ZIndex: =27

                    TiTenQLHTQLCTCT As text:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        Default: =ThisItem.cr282_ten_quyen_loi_ht
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        Height: =29
                        OnChange: =
                        OnSelect: =Select(Parent)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =10
                        Width: =100
                        X: =415
                        Y: =2
                        ZIndex: =30

                    TiSTBH As text:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        Default: =ThisItem.cr282_so_tien_bh
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        Format: =TextFormat.Number
                        Height: =29
                        OnChange: =
                        OnSelect: =Select(Parent)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =10
                        Width: =79
                        X: =1076
                        Y: =2
                        ZIndex: =31

                    TiTuChiTra As text:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        Default: =ThisItem.cr282_pt_tu_chitra
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        Format: =TextFormat.Number
                        Height: =29
                        OnChange: =
                        OnSelect: =Select(Parent)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =10
                        Width: =79
                        X: =997
                        Y: =2
                        ZIndex: =32

                    TiGHSTBenh As text:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        Default: =ThisItem.cr282_gh_sotien_benh
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        Format: =TextFormat.Number
                        Height: =29
                        OnChange: =
                        OnSelect: =Select(Parent)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =10
                        Width: =80
                        X: =917
                        Y: =2
                        ZIndex: =33

                    TiGHSNNam As text:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        Default: =ThisItem.cr282_gh_songay_nam
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        Format: =TextFormat.Number
                        Height: =29
                        OnChange: =
                        OnSelect: =Select(Parent)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =10
                        Width: =80
                        X: =837
                        Y: =2
                        ZIndex: =34

                    TiGHSLNam As text:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        Default: =ThisItem.cr282_gh_solan_nam
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        Format: =TextFormat.Number
                        Height: =29
                        OnChange: =
                        OnSelect: =Select(Parent)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =10
                        Width: =80
                        X: =757
                        Y: =2
                        ZIndex: =35

                    TiGHSTVu As text:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        Default: =ThisItem.cr282_gh_sotien_vu
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        Format: =TextFormat.Number
                        Height: =29
                        OnChange: =
                        OnSelect: =Select(Parent)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =10
                        Width: =80
                        X: =677
                        Y: =2
                        ZIndex: =36

                    TiGHSTNam As text:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        Default: =ThisItem.cr282_gh_sotien_nam
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        Format: =TextFormat.Number
                        Height: =29
                        OnChange: =
                        OnSelect: =Select(Parent)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =10
                        Width: =80
                        X: =597
                        Y: =2
                        ZIndex: =37

                    TiGHSTNgay As text:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        Default: =ThisItem.cr282_gh_sotien_ngay
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        Format: =TextFormat.Number
                        Height: =29
                        OnChange: =
                        OnSelect: =Select(Parent)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =10
                        Width: =80
                        X: =517
                        Y: =2
                        ZIndex: =38

                    CbxNhomQLQLCTCT As combobox:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        ChevronBackground: =RGBA(255, 255, 255, 1)
                        ChevronDisabledBackground: =RGBA(180, 214, 250, 1)
                        ChevronDisabledFill: =RGBA(255, 255, 255, 1)
                        ChevronFill: =RGBA(72, 163, 62, 1)
                        ChevronHoverBackground: =RGBA(255, 255, 255, 1)
                        ChevronHoverFill: =RGBA(72, 163, 62, 1)
                        DefaultSelectedItems: =LookUp(DM_NHOM_QUYENLOIS,MA_NHOM_QL=ThisItem.cr282_ma_nhom_ql)
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayFields: =["cr282_ten_nhom_ql"]
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        Height: =29
                        HoverBorderColor: =RGBA(9, 33, 98, 1)
                        HoverFill: =RGBA(180, 214, 250, 1)
                        InputTextPlaceholder: ="Chọn nhóm quyền lợi"
                        IsSearchable: =false
                        Items: =SortByColumns(DM_NHOM_QUYENLOIS,"cr282_ma_nhom_ql",SortOrder.Ascending)
                        OnSelect: =Select(Parent)
                        PressedColor: =RGBA(72, 163, 62, 1)
                        PressedFill: =RGBA(255, 255, 255, 1)
                        SearchFields: =["cr282_ten_nhom_ql"]
                        SearchItems: =[]
                        SelectionColor: =RGBA(0, 0, 0, 1)
                        SelectionFill: =RGBA(214, 221, 224, 1)
                        SelectMultiple: =false
                        Size: =9
                        Width: =108
                        X: =162
                        Y: =2
                        ZIndex: =39

                    CbxQLQLCTCT As combobox:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        ChevronBackground: =RGBA(255, 255, 255, 1)
                        ChevronDisabledBackground: =RGBA(180, 214, 250, 1)
                        ChevronDisabledFill: =RGBA(255, 255, 255, 1)
                        ChevronFill: =RGBA(72, 163, 62, 1)
                        ChevronHoverBackground: =RGBA(255, 255, 255, 1)
                        ChevronHoverFill: =RGBA(72, 163, 62, 1)
                        DefaultSelectedItems: =LookUp(DM_QUYENLOI_CHITIETS,MA_QL_CHITIET=ThisItem.cr282_ma_ql_ct)
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayFields: =["cr282_ten_ql_chitiet"]
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        Height: =29
                        HoverBorderColor: =RGBA(9, 33, 98, 1)
                        HoverFill: =RGBA(180, 214, 250, 1)
                        InputTextPlaceholder: ="Chọn nhóm quyền lợi"
                        IsSearchable: =false
                        Items: =Filter(SortByColumns(DM_QUYENLOI_CHITIETS,"cr282_ma_ql_chitiet",SortOrder.Ascending),MA_NHOM_QL=CbxNhomQLQLCTCT.Selected.MA_NHOM_QL)
                        OnSelect: =Select(Parent)
                        PressedColor: =RGBA(72, 163, 62, 1)
                        PressedFill: =RGBA(255, 255, 255, 1)
                        SearchFields: =["cr282_ten_ql_chitiet"]
                        SearchItems: =[]
                        SelectionColor: =RGBA(0, 0, 0, 1)
                        SelectionFill: =RGBA(214, 221, 224, 1)
                        SelectMultiple: =false
                        Size: =9
                        Width: =143
                        X: =271
                        Y: =2
                        ZIndex: =40

                    ButtonLuuQLCTCT As button:
                        Height: =28
                        OnSelect: |
                            =If(
                                IsBlank(CbxNhomQLQLCTCT.Selected.MA_NHOM_QL),
                                Notify("Bắt buộc nhập nhóm quyền lợi", NotificationType.Error,800),
                                IsBlank(CbxQLQLCTCT.Selected.MA_QL_CHITIET),
                                Notify("Bắt buộc nhập quyền lợi", NotificationType.Error,800),
                                CountIf(
                                    tmpQLCTCTCollect,
                                    cr282_ma_ql_ct=CbxQLQLCTCT.Selected.MA_QL_CHITIET && idQLCT<>ThisItem.idQLCT
                                ),
                                Notify("Đã tồn tại quyền lợi này gắn với chương trình", NotificationType.Error,800),
                                If(
                                    ThisItem.idQLCT=maAddedQLCTCT,
                                    Patch(
                                        DL_CHUONGTRINH_QLCTS,
                                        {
                                            MA_QL_CT:CbxQLQLCTCT.Selected.MA_QL_CHITIET,
                                            MA_SAN_PHAM:objCT.MA_SAN_PHAM,
                                            MA_CHUONG_TRINH:objCT.MA_CHUONG_TRINH,
                                            TT_HIENTHI:Value(TiTthtQLCTCT.Text),
                                            MA_NHOM_QL:CbxNhomQLQLCTCT.Selected.MA_NHOM_QL,
                                            MA_NHOMQL_SP:Blank(),
                                            GH_SOLAN_NAM:Value(TiGHSLNam.Text),
                                            GH_SONGAY_NAM:Value(TiGHSNNam.Text),
                                            GH_SOTIEN_BENH:Value(TiGHSTBenh.Text),
                                            GH_SOTIEN_NAM:Value(TiGHSTNam.Text),
                                            GH_SOTIEN_NGAY:Value(TiGHSTNgay.Text),
                                            GH_SOTIEN_VU:Value(TiGHSTVu.Text),
                                            PT_TU_CHITRA:Value(TiTuChiTra.Text),
                                            SO_TIEN_BH:Value(TiSTBH.Text),
                                            TEN_QUYEN_LOI_HT:TiTenQLHTQLCTCT.Text
                                        }
                                    ),
                                    UpdateIf(
                                        DL_CHUONGTRINH_QLCTS,
                                        MA_QL_CT=ThisItem.cr282_ma_ql_ct && MA_SAN_PHAM=objCT.MA_SAN_PHAM && MA_CHUONG_TRINH=objCT.MA_CHUONG_TRINH,
                                        {
                                            TT_HIENTHI:Value(TiTthtQLCTCT.Text),
                                            MA_NHOM_QL:CbxNhomQLQLCTCT.Selected.MA_NHOM_QL,
                                            MA_NHOMQL_SP:Blank(),
                                            GH_SOLAN_NAM:Value(TiGHSLNam.Text),
                                            GH_SONGAY_NAM:Value(TiGHSNNam.Text),
                                            GH_SOTIEN_BENH:Value(TiGHSTBenh.Text),
                                            GH_SOTIEN_NAM:Value(TiGHSTNam.Text),
                                            GH_SOTIEN_NGAY:Value(TiGHSTNgay.Text),
                                            GH_SOTIEN_VU:Value(TiGHSTVu.Text),
                                            PT_TU_CHITRA:Value(TiTuChiTra.Text),
                                            SO_TIEN_BH:Value(TiSTBH.Text),
                                            TEN_QUYEN_LOI_HT:TiTenQLHTQLCTCT.Text
                                        }
                                    )
                                );
                                UpdateIf(
                                    tmpQLCTCTCollect,
                                    cr282_ma_ql_ct=ThisItem.cr282_ma_ql_ct,
                                    {
                                        cr282_tt_hienthi:Value(TiTthtQLCTCT.Text),
                                        cr282_ma_nhom_ql:CbxNhomQLQLCTCT.Selected.MA_NHOM_QL,
                                        cr282_ma_nhomql_sp:Blank(),
                                        cr282_gh_solan_nam:Value(TiGHSLNam.Text),
                                        cr282_gh_songay_nam:Value(TiGHSNNam.Text),
                                        cr282_gh_sotien_benh:Value(TiGHSTBenh.Text),
                                        cr282_gh_sotien_nam:Value(TiGHSTNam.Text),
                                        cr282_gh_sotien_ngay:Value(TiGHSTNgay.Text),
                                        cr282_gh_sotien_vu:Value(TiGHSTVu.Text),
                                        cr282_pt_tu_chitra:Value(TiTuChiTra.Text),
                                        cr282_so_tien_bh:Value(TiSTBH.Text),
                                        cr282_ten_quyen_loi_ht:TiTenQLHTQLCTCT.Text,
                                        edited:0,
                                        idQLCT:"0"
                                    }
                                );
                                Notify("Lưu dữ liệu thành công", NotificationType.Success,800);
                                ClearCollect(
                                    tmpQLCTCTCollect,
                                    ShowColumns(
                                        AddColumns(
                                            SortByColumns(
                                                Filter(
                                                    DL_CHUONGTRINH_QLCTS,
                                                    MA_CHUONG_TRINH=objCT.MA_CHUONG_TRINH && MA_SAN_PHAM=objCT.MA_SAN_PHAM
                                                ),
                                                "cr282_ma_ql_ct",
                                                SortOrder.Ascending
                                            ),
                                            "edited",
                                            0,
                                            "idQLCT",
                                            "0"
                                        ),
                                        "cr282_ma_ql_ct",
                                        "cr282_gh_solan_nam",
                                        "cr282_gh_songay_nam",
                                        "cr282_gh_sotien_benh",
                                        "cr282_gh_sotien_nam",
                                        "cr282_gh_sotien_ngay",
                                        "cr282_gh_sotien_vu",
                                        "cr282_ma_nhomql_sp",
                                        "cr282_ma_nhom_ql",
                                        "cr282_pt_tu_chitra",
                                        "cr282_so_tien_bh",
                                        "cr282_tt_hienthi",
                                        "cr282_ten_quyen_loi_ht",
                                        "edited",
                                        "idQLCT"
                                    )
                                );
                                UpdateContext({
                                    maAddedQLCTCT:"",
                                    maUpdatedQLCTCT:""
                                });
                            )
                        Size: =9
                        Text: ="Lưu"
                        Visible: =ThisItem.edited=1
                        Width: =37
                        X: =1162
                        Y: =3
                        ZIndex: =41

                    ButtonSuaQLCTCT As button:
                        Height: =28
                        OnSelect: |-
                            =If(
                                Or(maAddedQLCTCT<>"",maUpdatedQLCTCT<>""),
                                Notify("Có dữ liệu chưa được lưu",NotificationType.Warning,800),
                                UpdateIf(
                                    tmpQLCTCTCollect,
                                    cr282_ma_ql_ct=ThisItem.cr282_ma_ql_ct,
                                    {
                                        edited:1
                                    }
                                );
                                UpdateContext({
                                    maUpdatedQLCTCT:ThisItem.cr282_ma_ql_ct
                                })
                            )
                        Size: =9
                        Text: ="Sửa"
                        Visible: =ThisItem.edited=0
                        Width: =37
                        X: =1162
                        Y: =3
                        ZIndex: =42

                    ButtonXoaQLCTCT As button:
                        Height: =28
                        OnSelect: |-
                            =If(
                                Or(maAddedQLCTCT<>"",maUpdatedQLCTCT<>""),
                                Notify("Có dữ liệu chưa được lưu",NotificationType.Warning,800),
                                Refresh(DL_CHUONGTRINH_QLCTS);
                                RemoveIf(
                                    DL_CHUONGTRINH_QLCTS,
                                    MA_QL_CT=ThisItem.cr282_ma_ql_ct && MA_SAN_PHAM=objCT.MA_SAN_PHAM && MA_CHUONG_TRINH=objCT.MA_CHUONG_TRINH
                                );
                                Remove(tmpQLCTCTCollect,ThisItem);
                                Notify("Xóa dữ liệu thành công", NotificationType.Success,800)
                            )
                        Size: =9
                        Text: ="Xóa"
                        Visible: =ThisItem.edited=0
                        Width: =37
                        X: =1204
                        Y: =3
                        ZIndex: =43

                    ButtonHuyQLCTCT As button:
                        Height: =28
                        OnSelect: |-
                            =If(
                                ThisItem.idQLCT=maAddedQLCTCT,
                                Remove(tmpQLCTCTCollect,ThisItem),
                                UpdateIf(
                                    tmpQLCTCTCollect,
                                    cr282_ma_ql_ct=ThisItem.cr282_ma_ql_ct,
                                    {
                                        edited:0,
                                        idQLCT:"0"
                                    }
                                )
                            );
                            UpdateContext({
                                maAddedQLCTCT:"",
                                maUpdatedQLCTCT:""
                            });
                        Size: =9
                        Text: ="Hủy"
                        Visible: =ThisItem.edited=1
                        Width: =37
                        X: =1204
                        Y: =3
                        ZIndex: =44

                    TiTthtQLCTCT_2 As text:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        Default: =ThisItem.cr282_ma_ql_ct
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayMode: =DisplayMode.Disabled
                        Height: =29
                        OnChange: =
                        OnSelect: =Select(Parent)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =10
                        Width: =90
                        X: =12
                        Y: =2
                        ZIndex: =45

                BadgeCanvas1_28 As Badge:
                    BasePaletteColor: =
                    Content: =""
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =39
                    Width: =1245
                    X: =8
                    Y: =116
                    ZIndex: =2

                TextCanvas1_12 As Text:
                    DisplayMode: =DisplayMode.Edit
                    Font: =Font.'Open Sans'
                    FontColor: =
                    Height: =29
                    Size: =13
                    Text: ="2. Quyền lợi chương trình"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =451
                    X: =0
                    Y: =0
                    ZIndex: =14

                TextCanvas2_127 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =38
                    Size: =10
                    Text: ="Thao tác"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =84
                    X: =1160
                    Y: =117
                    ZIndex: =15

                TextCanvas2_116 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =38
                    Size: =10
                    Text: |-
                        ="Thứ tự 
                        hiển thị"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =74
                    X: =93
                    Y: =117
                    ZIndex: =21

                TextCanvas2_115 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =38
                    Size: =10
                    Text: |-
                        ="Nhóm
                        quyền lợi"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =59
                    X: =183
                    Y: =117
                    ZIndex: =22

                TextCanvas2_117 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =36
                    Size: =10
                    Text: |-
                        ="Tên
                        quyền lợi"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =71
                    X: =299
                    Y: =117
                    ZIndex: =23

                TextCanvas2_118 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =38
                    Size: =10
                    Text: |-
                        ="Tên quyền lợi
                        hiển thị"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =125
                    X: =406
                    Y: =117
                    ZIndex: =24

                TextCanvas2_119 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =38
                    Size: =10
                    Text: |-
                        ="Giới hạn/ngày 
                        (số tiền)"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =80
                    X: =518
                    Y: =117
                    ZIndex: =25

                TextCanvas2_120 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =38
                    Size: =10
                    Text: |-
                        ="Giới hạn/năm 
                        (số tiền)"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =77
                    X: =598
                    Y: =117
                    ZIndex: =26

                TextCanvas2_121 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =38
                    Size: =10
                    Text: |-
                        ="Giới hạn/vụ 
                        (số tiền)"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =73
                    X: =680
                    Y: =117
                    ZIndex: =27

                TextCanvas2_122 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =38
                    Size: =10
                    Text: |-
                        ="Giới hạn 
                        số lần/năm"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =83
                    X: =758
                    Y: =117
                    ZIndex: =28

                TextCanvas2_123 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =38
                    Size: =10
                    Text: |-
                        ="Giới hạn 
                        số ngày/năm"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =74
                    X: =841
                    Y: =117
                    ZIndex: =31

                TextCanvas2_126 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =38
                    Size: =10
                    Text: |-
                        ="Số tiền 
                        bảo hiểm"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =76
                    X: =1080
                    Y: =117
                    ZIndex: =32

                TextCanvas2_124 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =38
                    Size: =10
                    Text: |-
                        ="Giới hạn bệnh 
                        (số tiền)"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =79
                    X: =917
                    Y: =117
                    ZIndex: =34

                TextCanvas2_125 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =38
                    Size: =10
                    Text: |-
                        ="Tự chi trả
                        (%)"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =78
                    X: =1002
                    Y: =117
                    ZIndex: =35

                TextCanvas1_13 As Text:
                    DisplayMode: =DisplayMode.Edit
                    Font: =Font.'Open Sans'
                    FontColor: =
                    Height: =29
                    Size: =13
                    Text: ="2.1. Bảng quyền lợi"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =451
                    X: =0
                    Y: =29
                    ZIndex: =36

                Button1 As button:
                    Height: =30
                    OnSelect: |
                        =ClearCollect(TempCT,Filter(' DL_SAN_PHAM_CT', MA_SAN_PHAM = "TRONG_ANH_CARE" && TRANG_THAI = 1 && MA_CHUONG_TRINH <> "TRONG_ANH_CARE_001" ));
                        Set(varAnhHienCT, true);
                    Size: =11
                    Text: ="Sao chép từ CT khác"
                    Width: =202
                    X: =428
                    Y: =72
                    ZIndex: =37

                Label5 As label:
                    Height: =39
                    Text: ="Chương trình gốc"
                    Visible: =varAnhHienCT
                    X: =635
                    Y: =58
                    ZIndex: =38

                CT As dropdown:
                    BorderColor: =RGBA(50, 86, 160, 1)
                    ChevronBackground: =RGBA(255, 255, 255, 1)
                    ChevronDisabledBackground: =RGBA(153, 207, 236, 1)
                    ChevronDisabledFill: =RGBA(255, 255, 255, 1)
                    ChevronFill: =RGBA(39, 113, 194, 1)
                    ChevronHoverBackground: =RGBA(212, 212, 212, 1)
                    ChevronHoverFill: =RGBA(33, 33, 33, 1)
                    Color: =RGBA(51, 51, 51, 1)
                    DisabledBorderColor: =RGBA(153, 207, 236, 1)
                    DisabledColor: =RGBA(0, 0, 0, 1)
                    DisabledFill: =RGBA(255, 255, 255, 1)
                    Height: =30
                    HoverBorderColor: =RGBA(9, 33, 98, 1)
                    HoverColor: =RGBA(51, 51, 51, 1)
                    HoverFill: =RGBA(212, 212, 212, 1)
                    Items: |
                        =Filter(' DL_SAN_PHAM_CT', MA_SAN_PHAM = objSP.MA_SAN_PHAM && TRANG_THAI = 1 && MA_CHUONG_TRINH <> objCT.MA_CHUONG_TRINH )
                    OnSelect: =TempCT
                    PaddingBottom: =5
                    PaddingLeft: =5
                    PaddingRight: =5
                    PaddingTop: =5
                    PressedBorderColor: =ColorFade(RGBA(202, 80, 16, 1), -30%)
                    PressedColor: =RGBA(127, 178, 57, 1)
                    PressedFill: =RGBA(237, 237, 237, 1)
                    SelectionFill: =RGBA(237, 237, 237, 1)
                    Size: =11
                    Visible: =varAnhHienCT
                    Width: =231
                    X: =650
                    Y: =72
                    ZIndex: =39

                Button2 As button:
                    Height: =30
                    OnSelect: |
                        =
                        // xoá dữ liệu quyền lợi chi tiết của chương trình hiện tại
                        RemoveIf(
                            DL_CHUONGTRINH_QLCTS,
                            MA_SAN_PHAM = objSP.MA_SAN_PHAM && MA_CHUONG_TRINH = objCT.MA_CHUONG_TRINH
                        );
                        // lấy dữ liệu từ chương trình được chọn
                        ClearCollect(
                            temQLoiCtrinh,
                            Filter(
                                DL_CHUONGTRINH_QLCTS,
                                MA_SAN_PHAM = objSP.MA_SAN_PHAM && MA_CHUONG_TRINH = CT.Selected.MA_CHUONG_TRINH
                            )
                        );
                        // insert dữ liệu được chọn vào bảng
                        ForAll(
                            temQLoiCtrinh As ct,
                            Patch(
                                DL_CHUONGTRINH_QLCTS,
                                Defaults(DL_CHUONGTRINH_QLCTS),
                                {
                                 MA_QL_CT:ct.MA_QL_CT,
                                 MA_SP : objSP.MA_SAN_PHAM,
                                 MA_CT : objCT.MA_CHUONG_TRINH,
                                 MA_NHOMQL_SP:ct.MA_NHOMQL_SP,
                                 MA_QL_CHITIET_CT:ct.MA_QL_CHITIET_CT,
                                 TT_HIENTHI:ct.TT_HIENTHI,
                                 GH_SOTIEN_NGAY:ct.GH_SOTIEN_NGAY,
                                 GH_SOTIEN_NAM:ct.GH_SOTIEN_NAM,
                                 GH_SOTIEN_VU:ct.GH_SOTIEN_VU,
                                 GH_SOLAN_NAM:ct.GH_SOLAN_NAM,
                                 GH_SONGAY_NAM:ct.GH_SONGAY_NAM,
                                 GH_SOTIEN_BENH:ct.GH_SOTIEN_BENH,
                                 PT_TU_CHITRA:ct.PT_TU_CHITRA,
                                 SO_TIEN_BH:ct.SO_TIEN_BH,
                                 TEN_QUYEN_LOI_HT:ct.TEN_QUYEN_LOI_HT,
                                 MA_SAN_PHAM:objSP.MA_SAN_PHAM,
                                 MA_CHUONG_TRINH: objCT.MA_CHUONG_TRINH,
                                 MA_NHOM_QL : ct.MA_NHOM_QL
                                }
                            )
                        );
                            Notify("Sao chép dữ liệu quyền lợi thành công", NotificationType.Success,800);
                            ClearCollect(
                                tmpQLCTCTCollect,
                                ShowColumns(
                                    AddColumns(
                                        SortByColumns(
                                            Filter(
                                                DL_CHUONGTRINH_QLCTS,
                                                MA_CHUONG_TRINH=objCT.MA_CHUONG_TRINH && MA_SAN_PHAM=objCT.MA_SAN_PHAM
                                            ),
                                            "cr282_ma_ql_ct",
                                            SortOrder.Ascending
                                        ),
                                        "edited",
                                        0,
                                        "idQLCT",
                                        "0"
                                    ),
                                    "cr282_ma_ql_ct",
                                    "cr282_gh_solan_nam",
                                    "cr282_gh_songay_nam",
                                    "cr282_gh_sotien_benh",
                                    "cr282_gh_sotien_nam",
                                    "cr282_gh_sotien_ngay",
                                    "cr282_gh_sotien_vu",
                                    "cr282_ma_nhomql_sp",
                                    "cr282_ma_nhom_ql",
                                    "cr282_pt_tu_chitra",
                                    "cr282_so_tien_bh",
                                    "cr282_tt_hienthi",
                                    "cr282_ten_quyen_loi_ht",
                                    "edited",
                                    "idQLCT"
                                )
                            );
                            UpdateContext({
                                maAddedQLCTCT:"",
                                maUpdatedQLCTCT:""
                            });
                    Size: =11
                    Text: ="Sao chép"
                    Visible: =varAnhHienCT
                    Width: =122
                    X: =290
                    Y: =72
                    ZIndex: =40

                Button4_3 As button:
                    Height: =30
                    OnSelect: |-
                        =ClearCollect(
                            tmpQLCTCTCollect,
                            ShowColumns(
                                AddColumns(
                                    SortByColumns(
                                        Filter(
                                            DL_CHUONGTRINH_QLCTS,
                                            MA_CHUONG_TRINH=objCT.MA_CHUONG_TRINH && MA_SAN_PHAM=objCT.MA_SAN_PHAM
                                        ),
                                        "cr282_ma_ql_ct",
                                        SortOrder.Ascending
                                    ),
                                    "edited",
                                    0,
                                    "idQLCT",
                                    "0"
                                ),
                                "cr282_ma_ql_ct",
                                "cr282_gh_solan_nam",
                                "cr282_gh_songay_nam",
                                "cr282_gh_sotien_benh",
                                "cr282_gh_sotien_nam",
                                "cr282_gh_sotien_ngay",
                                "cr282_gh_sotien_vu",
                                "cr282_ma_nhomql_sp",
                                "cr282_ma_nhom_ql",
                                "cr282_pt_tu_chitra",
                                "cr282_so_tien_bh",
                                "cr282_tt_hienthi",
                                "cr282_ten_quyen_loi_ht",
                                "edited",
                                "idQLCT"
                            )
                        );
                        UpdateContext({
                            maAddedQLCTCT:"",
                            maUpdatedQLCTCT:""
                        });
                    Size: =11
                    Text: ="Tải lại"
                    Width: =96
                    X: =8
                    Y: =72
                    ZIndex: =41

                Button5_7 As button:
                    DisplayMode: =If(And(maAddedQLCTCT="",maUpdatedQLCTCT=""), DisplayMode.Edit,DisplayMode.Disabled)
                    Height: =30
                    OnSelect: |
                        =If(
                            Or(maAddedQLCTCT<>"",maUpdatedQLCTCT<>""),
                            Notify("Có dữ liệu chưa được lưu",NotificationType.Warning,800),
                            Collect(
                                tmpQLCTCTCollect,
                                {
                                    cr282_ma_ql_ct:Blank(),
                                    cr282_gh_solan_nam:Blank(),
                                    cr282_gh_songay_nam:Blank(),
                                    cr282_gh_sotien_benh:Blank(),
                                    cr282_gh_sotien_nam:Blank(),
                                    cr282_gh_sotien_ngay:Blank(),
                                    cr282_gh_sotien_vu:Blank(),
                                    cr282_ma_nhomql_sp:Blank(),
                                    cr282_ma_nhom_ql:Blank(),
                                    cr282_pt_tu_chitra:Blank(),
                                    cr282_so_tien_bh:Blank(),
                                    cr282_tt_hienthi:Blank(),
                                    cr282_ten_quyen_loi_ht:Blank(),
                                    edited:1,
                                    idQLCT:"1"
                                }
                            );
                            UpdateContext({maAddedQLCTCT:"1"})
                        )
                    Size: =11
                    Text: ="Thêm mới"
                    Width: =96
                    X: =122
                    Y: =72
                    ZIndex: =42

                TextCanvas2_171 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =38
                    Size: =10
                    Text: ="Mã quyền lợi"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =74
                    X: =19
                    Y: =117
                    ZIndex: =43

            ContainerDKCTCT_2 As groupContainer.manualLayoutContainer:
                Height: =303
                Width: =1262
                X: =67
                Y: =1167
                ZIndex: =6

                GalleryDKCTCT_2 As gallery.galleryVertical:
                    DelayItemLoading: =true
                    Height: =178
                    Items: =SortByColumns(tmpQLKCTCollect,"cr282_ma_dl_ct",SortOrder.Ascending)
                    Layout: =Layout.Vertical
                    LoadingSpinner: =LoadingSpinner.Data
                    NavigationStep: =0
                    TemplateSize: =28
                    Width: =1255
                    Y: =124
                    ZIndex: =1

                    CbxNhomQLQLKCT As combobox:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        ChevronBackground: =RGBA(255, 255, 255, 1)
                        ChevronDisabledBackground: =RGBA(180, 214, 250, 1)
                        ChevronDisabledFill: =RGBA(255, 255, 255, 1)
                        ChevronFill: =RGBA(72, 163, 62, 1)
                        ChevronHoverBackground: =RGBA(255, 255, 255, 1)
                        ChevronHoverFill: =RGBA(72, 163, 62, 1)
                        DefaultSelectedItems: =LookUp(DM_NHOM_QUYENLOIS,MA_NHOM_QL=ThisItem.cr282_ma_nhom_ql_ct)
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayFields: =["cr282_ten_nhom_ql"]
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        Height: =28
                        HoverBorderColor: =RGBA(9, 33, 98, 1)
                        HoverFill: =RGBA(180, 214, 250, 1)
                        InputTextPlaceholder: ="Chọn nhóm quyền lợi"
                        IsSearchable: =false
                        Items: =SortByColumns(DM_NHOM_QUYENLOIS,"cr282_ma_nhom_ql",SortOrder.Ascending)
                        OnSelect: =Select(Parent)
                        PressedColor: =RGBA(72, 163, 62, 1)
                        PressedFill: =RGBA(255, 255, 255, 1)
                        SearchFields: =["cr282_ten_nhom_ql"]
                        SearchItems: =[]
                        SelectionColor: =RGBA(0, 0, 0, 1)
                        SelectionFill: =RGBA(214, 221, 224, 1)
                        SelectMultiple: =false
                        Width: =284
                        ZIndex: =19

                    TiMoTaQLKCT As text:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        Default: =ThisItem.cr282_mo_ta_ct
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        Height: =28
                        MaxLength: =500
                        Mode: =TextMode.MultiLine
                        OnChange: =
                        OnSelect: =Select(Parent)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Width: =794
                        X: =284
                        ZIndex: =25

                    BtnLuuQLKCT As button:
                        Height: =26
                        OnSelect: |
                            =If(
                                IsBlank(CbxNhomQLQLKCT.Selected.MA_NHOM_QL),
                                Notify("Bắt buộc nhập nhóm quyền lợi", NotificationType.Error,800),
                                IsBlank(TiMoTaQLKCT.Text),
                                Notify("Bắt buộc nhập mô tả", NotificationType.Error,800),
                                !IsBlank(LookUp(tmpQLKCTCollect,cr282_ma_nhom_ql_ct=ThisItem.cr282_ma_nhom_ql_ct && cr282_ma_dl_ct<>ThisItem.cr282_ma_dl_ct)),
                                Notify("Tồn tại dữ liệu có cùng nhóm quyền lợi", NotificationType.Error,800),
                                If(
                                    ThisItem.cr282_ma_dl_ct=maAddedQLKCT,
                                    Patch(
                                        DL_CHUONGTRINH_QL_KHACS,
                                        {
                                            MA_DL_CT:ThisItem.cr282_ma_dl_ct,
                                            MA_SAN_PHAM:objCT.MA_SAN_PHAM,
                                            MA_CHUONG_TRINH:objCT.MA_CHUONG_TRINH,
                                            MA_NHOM_QL_CT:CbxNhomQLQLKCT.Selected.MA_NHOM_QL,
                                            MO_TA_CT:TiMoTaQLKCT.Text
                                        }
                                    ),
                                    UpdateIf(
                                        DL_CHUONGTRINH_QL_KHACS,
                                        MA_DL_CT=ThisItem.cr282_ma_dl_ct,
                                        {
                                            MA_NHOM_QL_CT:CbxNhomQLQLKCT.Selected.MA_NHOM_QL,
                                            MO_TA_CT:TiMoTaQLKCT.Text
                                        }
                                    )
                                );
                                UpdateIf(
                                    tmpQLKCTCollect,
                                    cr282_ma_dl_ct=ThisItem.cr282_ma_dl_ct,
                                    {
                                        cr282_ma_nhom_ql_ct:CbxNhomQLQLKCT.Selected.MA_NHOM_QL,
                                        cr282_mo_ta_ct:TiMoTaQLKCT.Text,
                                        edited:0
                                    }
                                );
                                Notify("Lưu dữ liệu thành công", NotificationType.Success,800);
                                ClearCollect(
                                    tmpQLKCTCollect,
                                    ShowColumns(
                                        AddColumns(
                                            SortByColumns(
                                                Filter(
                                                    DL_CHUONGTRINH_QL_KHACS,
                                                    MA_SAN_PHAM=objCT.MA_SAN_PHAM && MA_CHUONG_TRINH=objCT.MA_CHUONG_TRINH
                                                ),
                                                "cr282_ma_dl_ct",
                                                SortOrder.Ascending
                                            ),
                                            "edited",
                                            0
                                        ),
                                        "cr282_ma_dl_ct",
                                        "cr282_ma_nhom_ql_ct",
                                        "cr282_mo_ta_ct",
                                        "edited"
                                    )
                                );
                                UpdateContext({
                                    maAddedQLKCT:"",
                                    maUpdatedQLKCT:""
                                });
                            )
                        Size: =11
                        Text: ="Lưu"
                        Visible: =ThisItem.edited=1
                        Width: =67
                        X: =1088
                        Y: =2
                        ZIndex: =26

                    BtnSuaQLKCT As button:
                        Height: =26
                        OnSelect: |-
                            =If(
                                Or(maAddedQLKCT<>"",maUpdatedQLKCT<>""),
                                Notify("Có dữ liệu chưa được lưu",NotificationType.Warning,800),
                                UpdateIf(
                                    tmpQLKCTCollect,
                                    cr282_ma_dl_ct=ThisItem.cr282_ma_dl_ct,
                                    {
                                        edited:1
                                    }
                                );
                                UpdateContext({
                                    maUpdatedQLKCT:ThisItem.cr282_ma_dl_ct
                                })
                            )
                        Size: =11
                        Text: ="Sửa"
                        Visible: =ThisItem.edited=0
                        Width: =67
                        X: =1088
                        Y: =2
                        ZIndex: =27

                    BtnXoaQLKCT As button:
                        Height: =26
                        OnSelect: |-
                            =If(
                                Or(maAddedQLKCT<>"",maUpdatedQLKCT<>""),
                                Notify("Có dữ liệu chưa được lưu",NotificationType.Warning,800),
                                Refresh(DL_CHUONGTRINH_QL_KHACS);
                                RemoveIf(
                                    DL_CHUONGTRINH_QL_KHACS,
                                    MA_DL_CT=ThisItem.cr282_ma_dl_ct
                                );
                                Remove(tmpQLKCTCollect,ThisItem);
                                Notify("Xóa dữ liệu thành công", NotificationType.Success,800)
                            )
                        Text: ="Xóa"
                        Visible: =ThisItem.edited=0
                        Width: =67
                        X: =1162
                        Y: =2
                        ZIndex: =28

                    BtnHuyQLKCT As button:
                        Height: =26
                        OnSelect: |-
                            =If(
                                ThisItem.cr282_ma_dl_ct=maAddedQLKCT,
                                Remove(tmpQLKCTCollect,ThisItem),
                                UpdateIf(
                                    tmpQLKCTCollect,
                                    cr282_ma_dl_ct=ThisItem.cr282_ma_dl_ct,
                                    {
                                        edited:0
                                    }
                                )
                            );
                            UpdateContext({
                                maAddedQLKCT:"",
                                maUpdatedQLKCT:""
                            });
                        Size: =11
                        Text: ="Hủy"
                        Visible: =ThisItem.edited=1
                        Width: =67
                        X: =1162
                        Y: =2
                        ZIndex: =29

                BadgeCanvas1_29 As Badge:
                    BasePaletteColor: =
                    Content: =""
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =38
                    Width: =1239
                    X: =0
                    Y: =84
                    ZIndex: =2

                TextCanvas2_128 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =40
                    Size: =14
                    Text: ="Nhóm quyền lợi"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =298
                    X: =0
                    Y: =84
                    ZIndex: =3

                TextCanvas2_129 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =40
                    Size: =14
                    Text: ="Mô tả"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =765
                    X: =312
                    Y: =84
                    ZIndex: =5

                TextCanvas1_14 As Text:
                    DisplayMode: =DisplayMode.Edit
                    Font: =Font.'Open Sans'
                    FontColor: =
                    Height: =29
                    Size: =13
                    Text: ="2.2. Thông tin quyền lợi khác"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =451
                    X: =0
                    Y: =2
                    ZIndex: =14

                TextCanvas2_130 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =38
                    Size: =14
                    Text: ="Thao tác"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =107
                    X: =1107
                    Y: =84
                    ZIndex: =15

                BtnTaiLaiDKCTCT_2 As Button:
                    BasePaletteColor: =
                    DisplayMode: =DisplayMode.Edit
                    Font: =Font.'Open Sans'
                    FontColor: =
                    FontSize: =13
                    Height: =38
                    OnSelect: |-
                        =ClearCollect(
                            tmpQLKCTCollect,
                            ShowColumns(
                                AddColumns(
                                    SortByColumns(
                                        Filter(
                                            DL_CHUONGTRINH_QL_KHACS,
                                            MA_CHUONG_TRINH=objCT.MA_CHUONG_TRINH && MA_SAN_PHAM=objCT.MA_SAN_PHAM
                                        ),
                                        "cr282_ma_dl_ct",
                                        SortOrder.Ascending
                                    ),
                                    "edited",
                                    0
                                ),
                                "cr282_ma_dl_ct",
                                "cr282_ma_nhom_ql_ct",
                                "cr282_mo_ta_ct",
                                "edited"
                            )
                        );
                        UpdateContext({
                            maAddedQLKCT:"",
                            maUpdatedQLKCT:""
                        });
                    Text: ="Tải lại"
                    Visible: =false
                    Width: =105
                    X: =0
                    Y: =33
                    ZIndex: =16

                Button5_8 As button:
                    DisplayMode: =If(And(maAddedQLKCT="",maUpdatedQLKCT=""), DisplayMode.Edit,DisplayMode.Disabled)
                    Height: =30
                    OnSelect: |
                        =If(
                            Or(maAddedQLKCT<>"",maUpdatedQLKCT<>""),
                            Notify("Có dữ liệu chưa được lưu",NotificationType.Warning,800),
                            Refresh(DL_CHUONGTRINH_QL_KHACS);
                            UpdateContext({
                                idMaQLKCT:If(
                                    CountIf(DL_CHUONGTRINH_QL_KHACS,true)=0,
                                    1000,
                                    Value(Last(SortByColumns(DL_CHUONGTRINH_QL_KHACS,"cr282_ma_dl_ct",SortOrder.Ascending)).MA_DL_CT)+1
                                )
                            });
                            Collect(
                                tmpQLKCTCollect,
                                {
                                    cr282_ma_dl_ct:Text(idMaQLKCT),
                                    cr282_ma_nhom_ql_ct:Blank(),
                                    cr282_mo_ta_ct:Blank(),
                                    edited:1
                                }
                            );
                            UpdateContext({maAddedQLKCT:Text(idMaQLKCT)})
                        )
                    Size: =11
                    Text: ="Thêm mới"
                    Width: =96
                    Y: =42
                    ZIndex: =18

            "'3Bangphi' As groupContainer.manualLayoutContainer":
                Height: =469
                Width: =1262
                X: =67
                Y: =1471
                ZIndex: =7

                GalleryCT_9 As gallery.galleryVertical:
                    DelayItemLoading: =true
                    Height: =343
                    Items: =TmpBangPhiCT
                    Layout: =Layout.Vertical
                    LoadingSpinner: =LoadingSpinner.Data
                    NavigationStep: =0
                    TemplateSize: =41
                    Width: =1262
                    Y: =126
                    ZIndex: =1

                    Btn_SuaCT_9 As button:
                        OnSelect: |-
                            =If(
                                Or(maAddedMatranCT<>"",maUpdateMatranCT<>""),
                                Notify("Có dữ liệu chưa được lưu",NotificationType.Warning,800),
                                UpdateIf(
                                    TmpBangPhiCT,
                                    cr282_ma_bang_phi=ThisItem.cr282_ma_bang_phi,
                                    {
                                        edited:1
                                    }
                                );
                                UpdateContext({
                                    maUpdateMatranCT:ThisItem.cr282_ma_bang_phi
                                })
                            )
                        Size: =13
                        Text: ="Sửa"
                        Visible: =ThisItem.edited=0
                        Width: =67
                        X: =1089
                        ZIndex: =17

                    Btn_XoaCT_9 As button:
                        OnSelect: |-
                            =If(
                                Or(maAddedMatranCT<>"",maUpdateMatranCT<>""),
                                Notify("Có dữ liệu chưa được lưu",NotificationType.Warning,800),
                                Refresh(DL_CHUONG_TRINH_BANG_PHIS);
                                RemoveIf(
                                    DL_CHUONG_TRINH_BANG_PHIS,
                                    MA_BANG_PHI=ThisItem.cr282_ma_bang_phi
                                );
                                Remove(TmpBangPhiCT,ThisItem);
                                Notify("Xóa dữ liệu thành công", NotificationType.Success,800) 
                            )
                        Size: =13
                        Text: ="Xóa"
                        Visible: =ThisItem.edited=0
                        Width: =71
                        X: =1168
                        ZIndex: =18

                    Btn_LuuCT_9 As button:
                        OnSelect: |
                            =
                                If( ThisItem.cr282_ma_bang_phi=maAddedMatranCT,
                                    Patch(
                                        DL_CHUONG_TRINH_BANG_PHIS,
                                        {
                                            MA_BANG_PHI:ThisItem.cr282_ma_bang_phi,
                                            MA_SAN_PHAM:valMaSP,
                                            MA_CHUONG_TRINH:VarCT, 
                                            TEN_CHUONG_TRINH:objCT.TEN_CHUONG_TRINH,
                                            TEN_SAN_PHAM:objSP.TEN_SAN_PHAM,
                                            MA_DO_TUOI: TxtDotuoi.Text, 
                                            PHI_BH:Value(TxtPhi.Text),
                                            PTHUC_DONG_PHI: TxtPhuongthuc.Text,
                                            THOI_HAN_BH:TxtThoihan.Text,
                                            SO_TIEN:TxtSotien.Text,
                                            NHOM_NGANH_NGHE:TxtNganhnghe.Text,
                                            MA_GIOI_TINH:TxtGioitinh.Text,
                                            MA_PHAMVI_DIALY:TxtPhamvidl.Text,
                                            NHOM_TINH_PHI:TxtNhomtinhphi.Text,
                                            TYLE_PHI:Value(TxtTyLe.Text)
                                        }
                                    ),
                                    UpdateIf(
                                        DL_CHUONG_TRINH_BANG_PHIS,
                                        MA_BANG_PHI=ThisItem.cr282_ma_bang_phi,
                                        {
                                            MA_SAN_PHAM:valMaSP,
                                            MA_CHUONG_TRINH:VarCT, 
                                            TEN_CHUONG_TRINH:objCT.TEN_CHUONG_TRINH,
                                            TEN_SAN_PHAM:objSP.TEN_SAN_PHAM,
                                            MA_DO_TUOI: TxtDotuoi.Text, 
                                            PHI_BH:Value(TxtPhi.Text),
                                            PTHUC_DONG_PHI: TxtPhuongthuc.Text,
                                            THOI_HAN_BH:TxtThoihan.Text,
                                            SO_TIEN:TxtSotien.Text,
                                            NHOM_NGANH_NGHE:TxtNganhnghe.Text,
                                            MA_GIOI_TINH:TxtGioitinh.Text,
                                            MA_PHAMVI_DIALY:TxtPhamvidl.Text,
                                            NHOM_TINH_PHI:TxtNhomtinhphi.Text,
                                            TYLE_PHI:Value(TxtTyLe.Text)
                                        }
                                    )
                                );
                                UpdateIf(
                                    TmpBangPhiCT,
                                    cr282_ma_bang_phi=ThisItem.cr282_ma_bang_phi,
                                    {
                                    cr282_ma_san_pham: valMaSP,
                                    cr282_ma_chuong_trinh : VarCT,
                                    cr282_ten_chuong_trinh:objCT.TEN_CHUONG_TRINH,
                                    cr282_ten_san_pham:objSP.TEN_SAN_PHAM,
                                    cr282_nhom_tinh_phi:TxtNhomtinhphi.Text,
                                    cr282_ma_phamvi_dialy:TxtPhamvidl.Text,
                                    cr282_ma_do_tuoi: TxtDotuoi.Text,
                                    cr282_ma_gioi_tinh:TxtGioitinh.Text,
                                    cr282_nhom_nganh_nghe:TxtNganhnghe.Text,
                                    cr282_so_tien:TxtSotien.Text,
                                    cr282_thoi_han_bh:TxtThoihan.Text,
                                    cr282_pthuc_dong_phi: TxtPhuongthuc.Text,
                                    cr282_tyle_phi:Value(TxtTyLe.Text),
                                    cr282_phi_bh:Value(TxtPhi.Text),
                                        edited:0
                                    }
                                );
                                Notify("Lưu dữ liệu thành công", NotificationType.Success,800);
                                ClearCollect(
                                    TmpBangPhiCT,
                                    ShowColumns(
                                        AddColumns(
                                            SortByColumns(
                                                Filter(DL_CHUONG_TRINH_BANG_PHIS,MA_SAN_PHAM=valMaSP && MA_CHUONG_TRINH = VarCT),
                                                "cr282_ma_bang_phi",
                                                SortOrder.Ascending
                                            ),
                                            "edited",
                                            0
                                        ),
                                    "cr282_ma_bang_phi",
                                    "cr282_ma_san_pham",
                                    "cr282_ma_chuong_trinh",
                                    "cr282_nhom_tinh_phi",
                                    "cr282_ma_phamvi_dialy",
                                    "cr282_ma_do_tuoi",
                                    "cr282_ma_gioi_tinh",
                                    "cr282_so_tien",
                                    "cr282_phi_bh",
                                    "cr282_tyle_phi",
                                    "cr282_pthuc_dong_phi",
                                    "cr282_ten_chuong_trinh",
                                    "cr282_ten_san_pham",
                                    "cr282_thoi_han_bh",
                                    "cr282_doi_tuong",
                                    "cr282_nhom_nganh_nghe",
                                    "edited"
                                    )
                                );
                                UpdateContext({
                                    maAddedMatranCT:"",
                                    maUpdateMatranCT:""
                                });
                        Size: =13
                        Text: ="Lưu"
                        Visible: =ThisItem.edited=1
                        Width: =67
                        X: =1089
                        ZIndex: =19

                    Btn_HuyCT_9 As button:
                        OnSelect: |-
                            =If(
                                ThisItem.cr282_ma_bang_phi=maAddedMatranCT,
                                Remove(TmpBangPhiCT,ThisItem),
                                UpdateIf(
                                    TmpBangPhiCT,
                                    cr282_ma_bang_phi=ThisItem.cr282_ma_bang_phi,
                                    {
                                        edited:0
                                    }
                                )
                            );
                             Set(   maAddedMatranCT, "");
                              Set(  maUpdateMatranCT,"");
                        Size: =13
                        Text: ="Hủy"
                        Visible: =ThisItem.edited=1
                        Width: =71
                        X: =1168
                        ZIndex: =20

                    TxtNhomtinhphi As text:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        Default: =ThisItem.cr282_nhom_tinh_phi
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        OnChange: =
                        OnSelect: =Select(Parent)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Width: =144
                        ZIndex: =22

                    TxtPhamvidl As text:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        Default: =ThisItem.cr282_ma_phamvi_dialy
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        OnChange: =
                        OnSelect: =Select(Parent)
                        PaddingRight: =0
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Width: =152
                        X: =144
                        ZIndex: =23

                    TxtGioitinh As text:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        Default: =ThisItem.cr282_ma_gioi_tinh
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        OnChange: =
                        OnSelect: =Select(Parent)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Width: =93
                        X: =415
                        ZIndex: =25

                    TxtNganhnghe As text:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        Default: =ThisItem.cr282_nhom_nganh_nghe
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        OnChange: =
                        OnSelect: =Select(Parent)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Width: =113
                        X: =508
                        ZIndex: =27

                    TxtSotien As text:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        Default: =ThisItem.cr282_so_tien
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        OnChange: =
                        OnSelect: =Select(Parent)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Width: =113
                        X: =621
                        ZIndex: =28

                    TxtThoihan As text:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        Default: =ThisItem.cr282_thoi_han_bh
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        OnChange: =
                        OnSelect: =Select(Parent)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Width: =82
                        X: =734
                        ZIndex: =29

                    TxtPhuongthuc As text:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        Default: =ThisItem.cr282_pthuc_dong_phi
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        OnChange: =
                        OnSelect: =Select(Parent)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Width: =99
                        X: =815
                        ZIndex: =30

                    TxtPhi As text:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        Default: =ThisItem.cr282_phi_bh
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        OnChange: =
                        OnSelect: =Select(Parent)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Width: =76
                        X: =914
                        ZIndex: =31

                    TxtDotuoi As text:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        Default: =ThisItem.cr282_ma_do_tuoi
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        OnChange: =
                        OnSelect: =Select(Parent)
                        PaddingRight: =0
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Width: =119
                        X: =296
                        ZIndex: =32

                    TxtID_MT As text:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        Default: =ThisItem.cr282_ma_bang_phi
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        OnChange: =
                        OnSelect: =Select(Parent)
                        Visible: =false
                        Width: =154
                        X: =40
                        ZIndex: =33

                    TxtTyLe As text:
                        BorderColor: =RGBA(72, 163, 62, 1)
                        Default: =ThisItem.cr282_tyle_phi
                        DisabledBorderColor: =RGBA(180, 214, 250, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisabledFill: =RGBA(255, 255, 255, 1)
                        DisplayMode: =If(ThisItem.edited=0,DisplayMode.Disabled,DisplayMode.Edit) 
                        OnChange: =
                        OnSelect: =Select(Parent)
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Width: =76
                        X: =990
                        ZIndex: =34

                BadgeCanvas1_31 As Badge:
                    BasePaletteColor: =
                    Content: =""
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =30
                    Visible: =true
                    Width: =1262
                    X: =0
                    Y: =96
                    ZIndex: =2

                TextCanvas2_142 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =30
                    Size: =14
                    Text: ="Nhóm tính phí"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =148
                    X: =0
                    Y: =96
                    ZIndex: =3

                TextCanvas2_143 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =30
                    Size: =14
                    Text: ="Phạm vi địa lý"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =151
                    X: =148
                    Y: =96
                    ZIndex: =4

                TextCanvas2_145 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =30
                    Size: =14
                    Text: ="Thao tác"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =193
                    X: =1069
                    Y: =96
                    ZIndex: =5

                ThemMoiCT_9 As button:
                    Height: =36
                    OnSelect: |-
                        =If(
                            Or(
                                maAddedMatranCT <> "",
                                maUpdateMatranCT <> ""
                            ),
                            Notify(
                                "Có dữ liệu chưa được lưu",
                                NotificationType.Warning,
                                800
                            ),
                            UpdateContext(
                                {
                                    idMa: If(
                                        CountRows(TmpBangPhiCT) = 0,
                                        Max(
                                            DL_CHUONG_TRINH_BANG_PHIS,
                                            MA_BANG_PHI
                                        ) + 1,
                                        Max(
                                            DL_CHUONG_TRINH_BANG_PHIS,
                                            MA_BANG_PHI
                                        ) + 1
                                    )
                                }
                            );
                            Collect(
                                TmpBangPhiCT,
                                {
                                cr282_ma_bang_phi: Text(idMa),
                                cr282_ma_san_pham : valMaSP,
                                cr282_ma_chuong_trinh: VarCT,
                                cr282_nhom_tinh_phi: "",
                                cr282_ma_phamvi_dialy: "",
                                cr282_ma_do_tuoi: "",
                                cr282_ma_gioi_tinh: "",
                                cr282_so_tien: "",
                                cr282_phi_bh: Value(""),
                                cr282_tyle_phi: Value(""),
                                cr282_pthuc_dong_phi: "",
                                cr282_ten_chuong_trinh: "",
                                cr282_ten_san_pham: "",
                                cr282_thoi_han_bh: "",
                                cr282_doi_tuong: "",
                                cr282_nhom_nganh_nghe : "",
                                edited: 1
                                }
                            );
                            UpdateContext({maAddedMatranCT: Text(idMa)})
                        )
                    Size: =13
                    Text: ="Thêm mới"
                    Y: =32
                    ZIndex: =11

                TextCanvas2_146 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =30
                    Size: =14
                    Text: ="Độ tuổi"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =123
                    X: =299
                    Y: =96
                    ZIndex: =14

                TextCanvas2_147 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =30
                    Size: =14
                    Text: ="Giới tính"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =89
                    X: =422
                    Y: =94
                    ZIndex: =15

                Label2_2 As label:
                    FontWeight: =FontWeight.Bold
                    Height: =33
                    Size: =12
                    Text: ="3 Bảng phí"
                    Width: =1176
                    ZIndex: =17

                TextCanvas2_148 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =30
                    Size: =14
                    Text: ="Ngành nghề"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =110
                    X: =511
                    Y: =96
                    ZIndex: =18

                TextCanvas2_149 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =30
                    Size: =14
                    Text: ="Số tiền"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =114
                    X: =621
                    Y: =96
                    ZIndex: =19

                TextCanvas2_150 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =30
                    Size: =14
                    Text: ="Thời hạn"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =82
                    X: =735
                    Y: =96
                    ZIndex: =20

                TextCanvas2_151 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =30
                    Size: =14
                    Text: ="Phương thức"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =95
                    X: =822
                    Y: =96
                    ZIndex: =21

                TextCanvas2_152 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =30
                    Size: =14
                    Text: ="Phí"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =77
                    X: =917
                    Y: =96
                    ZIndex: =22

                TextCanvas2_153 As Text:
                    Align: ='TextCanvas.Align'.Center
                    DisplayMode: =DisplayMode.Edit
                    FontColor: =
                    Height: =30
                    Size: =14
                    Text: ="Tỷ lệ"
                    Weight: ='TextCanvas.Weight'.Bold
                    Width: =71
                    X: =994
                    Y: =94
                    ZIndex: =23

                Button1_1 As button:
                    Height: =35
                    OnSelect: |-
                        =
                        Set(varAnhHienCTPhi, true);
                    Size: =13
                    Text: ="Sao chép từ CT khác"
                    Width: =199
                    X: =466
                    Y: =33
                    ZIndex: =24

                Label5_1 As label:
                    Fill: =RGBA(255, 255, 255, 1)
                    Height: =35
                    Text: ="Chương trình gốc"
                    Visible: =varAnhHienCTPhi
                    X: =667
                    Y: =33
                    ZIndex: =25

                CtPhi As dropdown:
                    BorderColor: =RGBA(50, 86, 160, 1)
                    ChevronBackground: =RGBA(255, 255, 255, 1)
                    ChevronDisabledBackground: =RGBA(153, 207, 236, 1)
                    ChevronDisabledFill: =RGBA(255, 255, 255, 1)
                    ChevronFill: =RGBA(39, 113, 194, 1)
                    ChevronHoverBackground: =RGBA(212, 212, 212, 1)
                    ChevronHoverFill: =RGBA(33, 33, 33, 1)
                    Color: =RGBA(51, 51, 51, 1)
                    DisabledBorderColor: =RGBA(153, 207, 236, 1)
                    DisabledColor: =RGBA(0, 0, 0, 1)
                    DisabledFill: =RGBA(255, 255, 255, 1)
                    Height: =36
                    HoverBorderColor: =RGBA(9, 33, 98, 1)
                    HoverColor: =RGBA(51, 51, 51, 1)
                    HoverFill: =RGBA(212, 212, 212, 1)
                    Items: |
                        =Filter(' DL_SAN_PHAM_CT', MA_SAN_PHAM = objSP.MA_SAN_PHAM && TRANG_THAI = 1 && MA_CHUONG_TRINH <> objCT.MA_CHUONG_TRINH )
                    OnSelect: =Filter(' DL_SAN_PHAM_CT', MA_SAN_PHAM = "TRONG_ANH_CARE" && TRANG_THAI = 1 && MA_CHUONG_TRINH <> "TRONG_ANH_CARE_001" )
                    PaddingBottom: =5
                    PaddingLeft: =5
                    PaddingRight: =5
                    PaddingTop: =5
                    PressedBorderColor: =ColorFade(RGBA(202, 80, 16, 1), -30%)
                    PressedColor: =RGBA(127, 178, 57, 1)
                    PressedFill: =RGBA(237, 237, 237, 1)
                    SelectionFill: =RGBA(237, 237, 237, 1)
                    Visible: =varAnhHienCTPhi
                    Width: =231
                    X: =817
                    Y: =32
                    ZIndex: =26

                Button2_1 As button:
                    Height: =36
                    OnSelect: |-
                        =
                        // xoá dữ liệu quyền lợi chi tiết của chương trình hiện tại
                        RemoveIf(
                            DL_CHUONG_TRINH_BANG_PHIS,
                            MA_SAN_PHAM = objSP.MA_SAN_PHAM && MA_CHUONG_TRINH = objCT.MA_CHUONG_TRINH
                        );
                        // lấy dữ liệu từ chương trình được chọn
                        ClearCollect(
                            temPhiCtrinh,
                            Filter(
                                DL_CHUONG_TRINH_BANG_PHIS,
                                MA_SAN_PHAM = objSP.MA_SAN_PHAM && MA_CHUONG_TRINH = CtPhi.Selected.MA_CHUONG_TRINH
                            )
                        );
                        // insert dữ liệu được chọn vào bảng
                        ForAll(
                            temPhiCtrinh As ct,
                            Patch(
                                DL_CHUONG_TRINH_BANG_PHIS,
                                Defaults(DL_CHUONG_TRINH_BANG_PHIS),
                                {
                                        MA_BANG_PHI:Max(DL_CHUONG_TRINH_BANG_PHIS, MA_BANG_PHI) + 1,
                                        MA_SAN_PHAM:objSP.MA_SAN_PHAM,
                                        MA_CHUONG_TRINH:objCT.MA_CHUONG_TRINH, 
                                        TEN_CHUONG_TRINH:objCT.TEN_CHUONG_TRINH,
                                        TEN_SAN_PHAM: objSP.TEN_SAN_PHAM,
                                        MA_DO_TUOI: ct.MA_DO_TUOI, 
                                        PHI_BH:ct.PHI_BH,
                                        PTHUC_DONG_PHI: ct.PTHUC_DONG_PHI,
                                        THOI_HAN_BH:ct.THOI_HAN_BH,
                                        SO_TIEN:ct.SO_TIEN,
                                        NHOM_NGANH_NGHE:ct.NHOM_NGANH_NGHE,
                                        MA_GIOI_TINH:ct.MA_GIOI_TINH,
                                        MA_PHAMVI_DIALY:ct.MA_PHAMVI_DIALY,
                                        NHOM_TINH_PHI:ct.NHOM_TINH_PHI,
                                        TYLE_PHI:ct.TYLE_PHI
                                }
                            )
                        );
                        Notify("Sao chép dữ liệu bảng phí thành công", NotificationType.Success,800);
                           ClearCollect(
                                TmpBangPhiCT,
                                ShowColumns(
                                    AddColumns(
                                        SortByColumns(
                                            Filter(DL_CHUONG_TRINH_BANG_PHIS,MA_SAN_PHAM=objSP.MA_SAN_PHAM && MA_CHUONG_TRINH = objCT.MA_CHUONG_TRINH),
                                            "cr282_ma_bang_phi",
                                            SortOrder.Ascending
                                        ),
                                        "edited",
                                        0
                                    ),
                                "cr282_ma_bang_phi",
                                "cr282_ma_san_pham",
                                "cr282_ma_chuong_trinh",
                                "cr282_nhom_tinh_phi",
                                "cr282_ma_phamvi_dialy",
                                "cr282_ma_do_tuoi",
                                "cr282_ma_gioi_tinh",
                                "cr282_so_tien",
                                "cr282_phi_bh",
                                "cr282_tyle_phi",
                                "cr282_pthuc_dong_phi",
                                "cr282_ten_chuong_trinh",
                                "cr282_ten_san_pham",
                                "cr282_thoi_han_bh",
                                "cr282_doi_tuong",
                                "cr282_nhom_nganh_nghe",
                                "edited"
                                )
                            );
                            UpdateContext({
                                maAddedMatranCT:"",
                                maUpdateMatranCT:""
                            });
                    Size: =13
                    Text: ="Sao phép"
                    Visible: =varAnhHienCTPhi
                    Width: =174
                    X: =1065
                    Y: =32
                    ZIndex: =27

    LeftNavigation_23 As LeftNavigation_9:
        Width: =LeftNavigation_23.MenuWidth - 10
        ZIndex: =27

    ThemMoiCT_11 As button:
        Height: =43
        OnSelect: =Back()
        Size: =13
        Text: ="Quay lại"
        X: =81
        Y: =725
        ZIndex: =29

